<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>blazor maui hybrid appæ˜¾ç¤ºæœ¬åœ°å›¾ç‰‡ | å°éº¦çš„æ‚è´§é“º</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="å•Šâ€¦ â€¦ä¸€é€šæ“ä½œä¸‹æ¥æ„Ÿè§‰å°±æ˜¯ä¸¤ä¸ªå­— æŠ˜ç£¨è·¨å¹³å°æœ‰è·¨å¹³å°çš„å¥½å¤„ ä½†æ¡†æ¶æœ¬èº«æ”¯æŒçš„æœ‰é™ å¾ˆå¤šä¸œè¥¿åšèµ·æ¥å¾ˆæ›²æŠ˜ å“ è¿™é‡Œæ€»ç»“ä¸€ä¸‹ç¬”è€…ä¸ºäº†æŠ˜è…¾æœ¬åœ°å›¾ç‰‡æ˜¾ç¤ºçš„å°è¯•ä¸ºä»€ä¹ˆè¦åšæœ¬åœ°å›¾ç‰‡å±•ç¤ºå‘¢ å¦‚æœæ˜¯åšéœ€è¦ç½‘ç»œè¿æ¥çš„app è¿™ä¸ªä¸€èˆ¬æ˜¯ä¸éœ€è¦çš„(è¦åšä¸Šä¼ å‰é¢„è§ˆ&#x2F;ç¼–è¾‘çš„è¯è¿˜æ˜¯è¦çš„)ä½†å¯¹äºç¦»çº¿çš„appè‚¯å®šæ˜¯è¦çš„ æ€»ä¼šæœ‰åœºæ™¯ç”¨æˆ·å¯¼å…¥å›¾ç‰‡&#x2F;æ–‡ä»¶ä¹‹ç±»çš„å§   ç¬”è€…åªæµ‹è¯•äº†windowså’Œå®‰å“è¿™ä¸¤ä¸ªå¹³å°,m">
<meta property="og:type" content="article">
<meta property="og:title" content="blazor maui hybrid appæ˜¾ç¤ºæœ¬åœ°å›¾ç‰‡">
<meta property="og:url" content="https://bingowith.me/2023/12/25/blazor-maui-hybrid-app-display-local-image/index.html">
<meta property="og:site_name" content="å°éº¦çš„æ‚è´§é“º">
<meta property="og:description" content="å•Šâ€¦ â€¦ä¸€é€šæ“ä½œä¸‹æ¥æ„Ÿè§‰å°±æ˜¯ä¸¤ä¸ªå­— æŠ˜ç£¨è·¨å¹³å°æœ‰è·¨å¹³å°çš„å¥½å¤„ ä½†æ¡†æ¶æœ¬èº«æ”¯æŒçš„æœ‰é™ å¾ˆå¤šä¸œè¥¿åšèµ·æ¥å¾ˆæ›²æŠ˜ å“ è¿™é‡Œæ€»ç»“ä¸€ä¸‹ç¬”è€…ä¸ºäº†æŠ˜è…¾æœ¬åœ°å›¾ç‰‡æ˜¾ç¤ºçš„å°è¯•ä¸ºä»€ä¹ˆè¦åšæœ¬åœ°å›¾ç‰‡å±•ç¤ºå‘¢ å¦‚æœæ˜¯åšéœ€è¦ç½‘ç»œè¿æ¥çš„app è¿™ä¸ªä¸€èˆ¬æ˜¯ä¸éœ€è¦çš„(è¦åšä¸Šä¼ å‰é¢„è§ˆ&#x2F;ç¼–è¾‘çš„è¯è¿˜æ˜¯è¦çš„)ä½†å¯¹äºç¦»çº¿çš„appè‚¯å®šæ˜¯è¦çš„ æ€»ä¼šæœ‰åœºæ™¯ç”¨æˆ·å¯¼å…¥å›¾ç‰‡&#x2F;æ–‡ä»¶ä¹‹ç±»çš„å§   ç¬”è€…åªæµ‹è¯•äº†windowså’Œå®‰å“è¿™ä¸¤ä¸ªå¹³å°,m">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-12-25T04:54:00.000Z">
<meta property="article:modified_time" content="2023-12-25T04:54:00.000Z">
<meta property="article:author" content="abaabaqua">
<meta property="article:tag" content="maui">
<meta property="article:tag" content="blazor">
<meta property="article:tag" content="ASP.NET">
<meta property="article:tag" content="C#">
<meta property="article:tag" content="dotnet">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="å°éº¦çš„æ‚è´§é“º" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.1.7/css/fork-awesome.min.css">

  
<!-- hexo injector head_end start -->
    <link rel="stylesheet" href="/css/cc_custom.css">
  <!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">å°éº¦çš„æ‚è´§é“º</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">æ—¥å¸¸éšç¬”~</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          
            <a class="nav-icon" target="_blank" rel="noopener" href="https://github.com/fairjm"><span class="fa fa-github"></span></a>
          
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS è®¢é˜…"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="æœç´¢"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="æœç´¢"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://bingowith.me"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-blazor-maui-hybrid-app-display-local-image" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/12/25/blazor-maui-hybrid-app-display-local-image/" class="article-date">
  <time class="dt-published" datetime="2023-12-25T04:54:00.000Z" itemprop="datePublished">2023-12-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      blazor maui hybrid appæ˜¾ç¤ºæœ¬åœ°å›¾ç‰‡
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>å•Šâ€¦ â€¦<br>ä¸€é€šæ“ä½œä¸‹æ¥æ„Ÿè§‰å°±æ˜¯ä¸¤ä¸ªå­— æŠ˜ç£¨<br>è·¨å¹³å°æœ‰è·¨å¹³å°çš„å¥½å¤„ ä½†æ¡†æ¶æœ¬èº«æ”¯æŒçš„æœ‰é™ å¾ˆå¤šä¸œè¥¿åšèµ·æ¥å¾ˆæ›²æŠ˜ å“</p>
<p>è¿™é‡Œæ€»ç»“ä¸€ä¸‹ç¬”è€…ä¸ºäº†æŠ˜è…¾æœ¬åœ°å›¾ç‰‡æ˜¾ç¤ºçš„å°è¯•<br>ä¸ºä»€ä¹ˆè¦åšæœ¬åœ°å›¾ç‰‡å±•ç¤ºå‘¢ å¦‚æœæ˜¯åšéœ€è¦ç½‘ç»œè¿æ¥çš„app è¿™ä¸ªä¸€èˆ¬æ˜¯ä¸éœ€è¦çš„(è¦åšä¸Šä¼ å‰é¢„è§ˆ&#x2F;ç¼–è¾‘çš„è¯è¿˜æ˜¯è¦çš„)<br>ä½†å¯¹äºç¦»çº¿çš„appè‚¯å®šæ˜¯è¦çš„ æ€»ä¼šæœ‰åœºæ™¯ç”¨æˆ·å¯¼å…¥å›¾ç‰‡&#x2F;æ–‡ä»¶ä¹‹ç±»çš„å§  </p>
<p>ç¬”è€…åªæµ‹è¯•äº†windowså’Œå®‰å“è¿™ä¸¤ä¸ªå¹³å°,macå’ŒiOSå› ä¸ºæ²¡æœ‰è®¾å¤‡å’Œå¼€å‘è€…è´¦å·æ‰€ä»¥è°ƒè¯•ä¸äº†ğŸ˜€</p>
<span id="more"></span>

<h1 id="å¤åˆ¶åˆ°wwwroot"><a href="#å¤åˆ¶åˆ°wwwroot" class="headerlink" title="å¤åˆ¶åˆ°wwwroot"></a>å¤åˆ¶åˆ°wwwroot</h1><p>è¿™æ˜¯æœ€ç®€å•ç›´æ¥çš„æ–¹æ³•,ä»€ä¹ˆéƒ½ä¸ç”¨æ”¹,æŠŠå›¾ç‰‡å¤åˆ¶åˆ°wwwrootä¸‹ç„¶åç›´æ¥ä½¿ç”¨å›¾ç‰‡åœ°å€å°±è¡Œäº†<br>ä»£ç å¦‚ä¸‹:  </p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">async</span> Task <span class="title">PickAndShow</span>(<span class="params">PickOptions options</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">try</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> result = <span class="keyword">await</span> FilePicker.Default.PickAsync(options);</span><br><span class="line">        <span class="keyword">if</span> (result != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">await</span> <span class="keyword">using</span> <span class="keyword">var</span> stream = <span class="keyword">await</span> result.OpenReadAsync();</span><br><span class="line">            <span class="keyword">var</span> originalFileName = result.FileName;</span><br><span class="line">            <span class="keyword">var</span> extension = Path.GetExtension(originalFileName);</span><br><span class="line">            <span class="keyword">var</span> targetFileName = Guid.NewGuid() + extension;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> path = Path.Combine(AppDomain.CurrentDomain.BaseDirectory, <span class="string">&quot;wwwroot&quot;</span>, <span class="string">&quot;images&quot;</span>, targetFileName);</span><br><span class="line">            Directory.CreateDirectory(Path.Combine(AppDomain.CurrentDomain.BaseDirectory, <span class="string">&quot;wwwroot&quot;</span>, <span class="string">&quot;images&quot;</span>));</span><br><span class="line">            <span class="keyword">await</span> <span class="keyword">using</span> <span class="keyword">var</span> targetStream = <span class="keyword">new</span> FileStream(path, FileMode.Create);</span><br><span class="line">            Debug.WriteLine(<span class="string">$&quot;copy path:<span class="subst">&#123;path&#125;</span>&quot;</span>);</span><br><span class="line">            <span class="keyword">await</span> stream.CopyToAsync(targetStream);</span><br><span class="line">            _objUrl = <span class="string">$&quot;images/<span class="subst">&#123;targetFileName&#125;</span>&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">    &#123;</span><br><span class="line">        Debug.WriteLine(ex);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªçš„ä¼˜ç‚¹å°±æ˜¯ç®€å•ç›´æ¥<br>ç¼ºç‚¹å°±æ˜¯å®‰å“ä¸æ”¯æŒâ€¦ å®‰å“çš„wwwrootåœ¨app bundleé‡Œ åªèƒ½è¯»ä¸èƒ½å†™<br>é€‚åˆåªéœ€è¦windowsçš„ä½¿ç”¨<br>ä½†ä½ åªéœ€è¦windows è¿˜ç”¨mauiæ˜¯ä¸æ˜¯æœ‰ğŸª  </p>
<h1 id="base64-objectURL"><a href="#base64-objectURL" class="headerlink" title="base64&#x2F;objectURL"></a>base64&#x2F;objectURL</h1><p>è¿™ä¸¤ä¸ªæˆ‘ä¸€èµ·è¯´ å› ä¸ºåŸç†æ˜¯ä¸€æ ·çš„<br>å­˜åœ¨sqlite appdataæˆ–è€…å…¶ä»–ä»€ä¹ˆåœ°æ–¹<br>éœ€è¦ç”¨çš„æ—¶å€™è¯»å–è½¬åŒ–ä¸ºbase64å’ŒobjectURL  </p>
<p>ä½†æ˜¯ä½¿ç”¨base64çš„æ—¶å€™æˆ‘å‘ç°äº†å¾ˆä¸¥é‡çš„å†…å­˜æ³„æ¼,ä¼ äº†å¾ˆå¤šå›¾ç‰‡æµ‹è¯•ä¹‹ååº”ç”¨çš„å†…å­˜ç›´æ¥ç‚¸äº†.<br>è§: <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/77513507/how-to-avoid-memory-leaks-when-using-base64-images-in-blazor">https://stackoverflow.com/questions/77513507/how-to-avoid-memory-leaks-when-using-base64-images-in-blazor</a>  </p>
<p>å¯èƒ½æ˜¯æˆ‘ç”¨çš„pngæœ‰å…³,ä½†ä»–çš„ç¡®ä¼šé€ æˆå†…å­˜è¾ƒå¤§çš„æ¶ˆè€—,å¹¶ä¸”æœ‰ä¸å¿…è¦çš„å¼€é”€,ä½ è½¬æˆbase64,æµè§ˆå™¨è¿˜å¾—ç»™ä»–è½¬å›æ¥.  </p>
<p>ç”¨objectURLæ˜¯ä¸ªæ›´å¥½çš„é€‰æ‹©<br>åœ¨index.htmlä¸­æ”¾å…¥è¿™æ®µä»£ç :  </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">createObjectURL</span> = <span class="title function_">async</span> (imageStream) =&gt; &#123;</span><br><span class="line">        <span class="keyword">const</span> arrayBuffer = <span class="keyword">await</span> imageStream.<span class="title function_">arrayBuffer</span>();</span><br><span class="line">        <span class="keyword">const</span> blob = <span class="keyword">new</span> <span class="title class_">Blob</span>([arrayBuffer]);</span><br><span class="line">        <span class="keyword">return</span> <span class="variable constant_">URL</span>.<span class="title function_">createObjectURL</span>(blob);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">revokeObjectURL</span> = <span class="function">(<span class="params">url</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable constant_">URL</span>.<span class="title function_">revokeObjectURL</span>(url);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>æ‰©å±•ä¸€ä¸‹<code>IJSRuntime</code>,è¿™æ˜¯ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨,ä¹Ÿå¯ä»¥ç›´æ¥è°ƒ,éƒ½æ˜¯ä¸€æ ·çš„:  </p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">IJSRuntimeExtensions</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ValueTask&lt;<span class="built_in">string</span>&gt; <span class="title">CreateObjectUrl</span>(<span class="params"><span class="keyword">this</span> IJSRuntime js, Stream stream, <span class="built_in">bool</span> leaveOpen = <span class="literal">false</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> dotNetStreamReference = <span class="keyword">new</span> DotNetStreamReference(stream, leaveOpen);</span><br><span class="line">        <span class="keyword">return</span> js.InvokeAsync&lt;<span class="built_in">string</span>&gt;(<span class="string">&quot;createObjectURL&quot;</span>, dotNetStreamReference);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">async</span> Task <span class="title">RevokeObjectUrl</span>(<span class="params"><span class="keyword">this</span> IJSRuntime js, <span class="built_in">string</span>? url</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Debug.WriteLine(<span class="string">$&quot;Revoke call url <span class="subst">&#123;url&#125;</span>&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (url <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">await</span> js.InvokeVoidAsync(<span class="string">&quot;revokeObjectURL&quot;</span>, url);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å“ªé‡Œéœ€è¦ç”¨è°ƒç”¨ä¸€ä¸‹è·å¾—objectURLå³å¯  </p>
<h1 id="å¤åˆ¶åˆ°appdataä¸‹-è¦†ç›–CreateFileProvider"><a href="#å¤åˆ¶åˆ°appdataä¸‹-è¦†ç›–CreateFileProvider" class="headerlink" title="å¤åˆ¶åˆ°appdataä¸‹ è¦†ç›–CreateFileProvider"></a>å¤åˆ¶åˆ°appdataä¸‹ è¦†ç›–CreateFileProvider</h1><p>ä»çˆ†æ ˆä¸Šå‘ç°çš„,æµ‹è¯•äº†ä¸‹windowså’Œå®‰å“ä¸Šéƒ½å¯ç”¨,æ„å¤–çš„ç®€å•ç›´æ¥.<br>è§:<br><a target="_blank" rel="noopener" href="https://stackoverflow.com/a/75282680/2078863">https://stackoverflow.com/a/75282680/2078863</a></p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CustomFilesBlazorWebView</span> : <span class="title">BlazorWebView</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">override</span> IFileProvider <span class="title">CreateFileProvider</span>(<span class="params"><span class="built_in">string</span> contentRootDir</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> lPhysicalFiles = <span class="keyword">new</span> PhysicalFileProvider(FileSystem.Current.AppDataDirectory);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> CompositeFileProvider(lPhysicalFiles, <span class="keyword">base</span>.CreateFileProvider(contentRootDir));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åç”¨è¿™ä¸ªæ›¿æ¢åŸæœ¬çš„BlazorWebViewå³å¯.<br>ä¹‹åå°±å°†æ–‡ä»¶å¤åˆ¶åˆ°Appdataä¸‹:</p>
<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">readonly</span> <span class="built_in">string</span> ImageDir = <span class="string">&quot;image&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">async</span> Task&lt;<span class="built_in">string</span>&gt; <span class="title">CopyToImageDir</span>(<span class="params"><span class="built_in">byte</span>[] bytes, <span class="built_in">string</span> originalFileName</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> appFilePath = Path.Combine(GetImageDirPath(), CreateNewName(originalFileName));</span><br><span class="line">    Directory.CreateDirectory(GetImageDirPath());</span><br><span class="line">    <span class="keyword">await</span> <span class="keyword">using</span> <span class="keyword">var</span> fileStream = File.Create(appFilePath);</span><br><span class="line">    <span class="keyword">await</span> fileStream.WriteAsync(bytes);</span><br><span class="line">    <span class="keyword">return</span> appFilePath;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">GetImageDirPath</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> Path.Combine(FileSystem.AppDataDirectory, ImageDir);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="built_in">string</span> <span class="title">CreateNewName</span>(<span class="params"><span class="built_in">string</span> originalFileName</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> extension = Path.GetExtension(originalFileName);</span><br><span class="line">    <span class="keyword">var</span> uuid = Guid.NewGuid().ToString();</span><br><span class="line">    <span class="keyword">var</span> newFileName = <span class="string">$&quot;<span class="subst">&#123;Path.GetFileNameWithoutExtension(originalFileName)&#125;</span>_<span class="subst">&#123;uuid&#125;</span><span class="subst">&#123;extension&#125;</span>&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> newFileName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>urlä½¿ç”¨<code>image/filename</code>å³å¯  </p>
<hr>
<p>è¿™äº›æ–¹æ¡ˆéƒ½ä¸å¯é¿å…è¦å°†æ–‡ä»¶å¤åˆ¶éƒ½æŸä¸ªåœ°æ–¹.<br>å…¶å®ä¼˜åŒ–ä¸‹å¯ä»¥ç›´æ¥è¯»åŸå§‹æ–‡ä»¶, ä½†æ˜¯ä¸åŒå¹³å°é™åˆ¶ä¸å¤ªä¸€æ ·, æ¯”å¦‚åœ¨å®‰å“ä¸Š<code>FilePicker</code>è¿”å›çš„fullPathæ˜¯cacheåœ°å€ä¸æ˜¯å®é™…åœ°å€, éœ€è¦è‡ªå·±å†™nativeä»£ç ç”¨å®‰å“åŸç”Ÿçš„æ–‡ä»¶é€‰æ‹©.<br>å…¶ä»–è¿˜æœ‰ä¸å°‘å¤§ä½¬çš„æ–¹æ¡ˆ,è¿™é‡Œåªåšå‡ ä¸ªå®ç°æ¯”è¾ƒç®€å•çš„æ€»ç»“.<br>å¸‚é¢ä¸Šæœ‰è®¸å¤šç”±èµ„æ·±å¼€å‘è€…æå‡ºçš„å¤æ‚æ–¹æ¡ˆ,ä½†åœ¨è¿™é‡Œ,æˆ‘åªæ€»ç»“äº†å‡ ä¸ªå®ç°èµ·æ¥ç›¸å¯¹ç®€å•çš„æ–¹æ³•.<br>å”‰,MAUIæœ¬èº«çš„ä½¿ç”¨ç¡®å®é¢‡å…·æŒ‘æˆ˜æ€§.è™½ç„¶å°†Blazoré›†æˆè¿›UIåœ¨æŸç§ç¨‹åº¦ä¸Šç¼“è§£äº†è¿™ä¸€é—®é¢˜,ä½†ç”±äºå…¶è·¨å¹³å°çš„ç‰¹æ€§,å¾ˆå¤šåŠŸèƒ½ä¼¼ä¹éƒ½ä¸å°½å¦‚äººæ„.<br>åˆçœ‹ä¸Šå»,åŸºç¡€çš„ä½¿ç”¨ä¼¼ä¹æ²¡ä»€ä¹ˆé—®é¢˜,ä½†ä¸€æ—¦åŠ¨æ‰‹å®ç°æ›´å¤æ‚çš„åŠŸèƒ½,å°±ä¼šå‘ç°å—åˆ°äº†å„ç§é™åˆ¶.æƒ³è¦çªç ´è¿™äº›é™åˆ¶,å°±å¿…é¡»ç¼–å†™ä¸å¹³å°ç›¸å…³çš„ä»£ç ,è€Œè¿™åˆè¦æ±‚ä½ å¿…é¡»æ·±å…¥äº†è§£Windowsã€å®‰å“å’ŒiOSç­‰ç³»ç»Ÿçš„åŸç”Ÿä»£ç æ˜¯å¦‚ä½•ç¼–å†™çš„.</p>
<p>è¿™ç§å±€é¢ç¡®å®ä»¤äººå°´å°¬,è¿™æˆ–è®¸ä¹Ÿæ˜¯è·¨å¹³å°æ¡†æ¶æ™®éå­˜åœ¨çš„é—®é¢˜.</p>
<p>å¾®è½¯çš„åŠªåŠ›å°†å†³å®šæœªæ¥çš„å‘å±•,ä½†ä»ä»–ä»¬é‚£è¾¹æ¥çœ‹,æƒ…å†µä¼¼ä¹å¹¶ä¸ä¹è§‚.<br>å°±ä»¥æœ¬æ–‡è¯»å–æœ¬åœ°å›¾ç‰‡çš„é—®é¢˜ä¸ºä¾‹ï¼š<br><a target="_blank" rel="noopener" href="https://github.com/dotnet/maui/issues/2907">https://github.com/dotnet/maui/issues/2907</a><br><a target="_blank" rel="noopener" href="https://github.com/dotnet/aspnetcore/issues/25274">https://github.com/dotnet/aspnetcore/issues/25274</a><br>æ—©åœ¨2021å¹´ç”šè‡³2020å¹´,å°±æœ‰äººæå‡ºäº†è¿™ä¸ªé—®é¢˜.<br>ç»è¿‡å¤šä¸ªç›¸å…³é—®é¢˜çš„è®¨è®º,è®¤ä¸ºåœ¨<code>.NET 7</code>ä¸­å®ç°è¿™ä¸€åŠŸèƒ½é£é™©å¤ªå¤§,å†³å®šæ¨è¿Ÿåˆ°<code>.NET 8</code>.  </p>
<blockquote>
<p>mkArtakMSFT modified the milestones: Backlog, .NET 7 Planning on Nov 6, 2021<br>danroth27 modified the milestones: .NET 7 Planning, .NET 8 Planning on Aug 24, 2022<br>While we have made progress on this feature, at this point we think the risk is too high to include this in the .NET 7 release. Moving to .NET 8. </p>
<p>2023-06-30 bot: Weâ€™ve moved this issue to the Backlog milestone. This means that it is not going to be worked on for the coming release. We will reassess the backlog following the current release and consider this item at that time. To learn more about our issue management process and to have better expectation regarding different types of issues you can read our Triage Process.</p>
</blockquote>
<p>ç„¶è€Œ,å³ä¾¿<code>.NET 8</code>å·²ç»å‘å¸ƒ,è¿™ä¸ªåŠŸèƒ½ä¾æ—§æ²¡æœ‰å¾—åˆ°å®˜æ–¹çš„å®ç°, åªæœ‰å„ç§workaroundâ€¦â€¦è¿™å®åœ¨ä»¤äººæ²®ä¸§.</p>
<p>MAUIç»™äººçš„æ„Ÿè§‰å¥½åƒæ˜¯ä¸€ä¸ªè¢«é—å¼ƒçš„é¡¹ç›®.éšç€.NET 9æˆ–.NET 10çš„æ¨å‡º,å¾®è½¯å¯èƒ½ä¼šå®£å¸ƒåœæ­¢æ”¯æŒMAUI,å¹¶æ¨å‡ºå¦ä¸€ä¸ªå…¨æ–°çš„æ¡†æ¶.<br>æ¯•ç«Ÿå¾®è½¯çš„ä½œé£ä¸€è´¯å¦‚æ­¤.</p>
<p>ç›¸å…³å‚è€ƒé“¾æ¥:<br><a target="_blank" rel="noopener" href="https://learn.microsoft.com/en-us/aspnet/core/blazor/images?view=aspnetcore-8.0">Work with images in ASP.NET Core Blazor</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/dotnet/maui/issues/2907">[Bug] Not allowed to load local resource for Android</a>  </p>
<p><a target="_blank" rel="noopener" href="https://github.com/dotnet/aspnetcore/issues/25274">Blazor Image component to display images that are not accessible through HTTP endpoints</a></p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/72513093/how-to-display-local-image-as-well-as-resources-image-in-net-maui-blazor/75282680#75282680">How to display local image as well as resources image in .Net MAUI Blazor</a>  </p>
<p><a target="_blank" rel="noopener" href="https://github.com/dotnet/maui/issues/8857">Overriding CreateFileProvider for BlazorWebView throws exception</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://bingowith.me/2023/12/25/blazor-maui-hybrid-app-display-local-image/" data-id="cmbzc65d2000gygvad1qz4vud" data-title="blazor maui hybrid appæ˜¾ç¤ºæœ¬åœ°å›¾ç‰‡" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ASP-NET/" rel="tag">ASP.NET</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/" rel="tag">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/blazor/" rel="tag">blazor</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dotnet/" rel="tag">dotnet</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/maui/" rel="tag">maui</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2024/01/27/docker-container-log-too-large/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">å‰ä¸€ç¯‡</strong>
      <div class="article-nav-title">
        
          docker containerç›®å½•ä¸‹logè¿‡å¤§è§£å†³
        
      </div>
    </a>
  
  
    <a href="/2023/11/15/azure-openai-java-sdk-stream-function-handle/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">åä¸€ç¯‡</strong>
      <div class="article-nav-title">ä½¿ç”¨Azure openai java SDKåœ¨æµå¼è¾“å‡ºæ—¶å¤„ç†functioncall</div>
    </a>
  
</nav>

  
</article>


</section>
        
      </div>
      <footer id="footer">
  
    <aside id="sidebar" class="outer">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ASP-NET/" rel="tag">ASP.NET</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSR/" rel="tag">CSR</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GPT/" rel="tag">GPT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GPU/" rel="tag">GPU</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/H2/" rel="tag">H2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JOOQ/" rel="tag">JOOQ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OS/" rel="tag">OS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSE/" rel="tag">SSE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/auth-js/" rel="tag">auth.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aws/" rel="tag">aws</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/azure/" rel="tag">azure</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blazor/" rel="tag">blazor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/claude/" rel="tag">claude</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cloudflare/" rel="tag">cloudflare</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker-compose/" rel="tag">docker compose</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dotnet/" rel="tag">dotnet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/drizzle/" rel="tag">drizzle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/expo-router/" rel="tag">expo router</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/filerobot-image-editor/" rel="tag">filerobot-image-editor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/" rel="tag">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/life/" rel="tag">life</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/llm/" rel="tag">llm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maui/" rel="tag">maui</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mybatis/" rel="tag">mybatis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nextjs/" rel="tag">nextjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/" rel="tag">nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openai/" rel="tag">openai</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/playwright/" rel="tag">playwright</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/" rel="tag">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react-native/" rel="tag">react native</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/remix/" rel="tag">remix</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/route53/" rel="tag">route53</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rust/" rel="tag">rust</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shopify/" rel="tag">shopify</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shopify-CLI/" rel="tag">shopify CLI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-boot/" rel="tag">spring boot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/troubleshooting/" rel="tag">troubleshooting</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BF%BB%E8%AF%91/" rel="tag">ç¿»è¯‘</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾äº‘</h3>
    <div class="widget tagcloud">
      <a href="/tags/ASP-NET/" style="font-size: 10px;">ASP.NET</a> <a href="/tags/C/" style="font-size: 10px;">C#</a> <a href="/tags/CSR/" style="font-size: 10px;">CSR</a> <a href="/tags/GPT/" style="font-size: 10px;">GPT</a> <a href="/tags/GPU/" style="font-size: 10px;">GPU</a> <a href="/tags/H2/" style="font-size: 10px;">H2</a> <a href="/tags/JOOQ/" style="font-size: 10px;">JOOQ</a> <a href="/tags/MySQL/" style="font-size: 14px;">MySQL</a> <a href="/tags/OS/" style="font-size: 10px;">OS</a> <a href="/tags/SSE/" style="font-size: 10px;">SSE</a> <a href="/tags/auth-js/" style="font-size: 10px;">auth.js</a> <a href="/tags/aws/" style="font-size: 12px;">aws</a> <a href="/tags/azure/" style="font-size: 12px;">azure</a> <a href="/tags/blazor/" style="font-size: 10px;">blazor</a> <a href="/tags/claude/" style="font-size: 10px;">claude</a> <a href="/tags/cloudflare/" style="font-size: 10px;">cloudflare</a> <a href="/tags/docker/" style="font-size: 12px;">docker</a> <a href="/tags/docker-compose/" style="font-size: 10px;">docker compose</a> <a href="/tags/dotnet/" style="font-size: 10px;">dotnet</a> <a href="/tags/drizzle/" style="font-size: 10px;">drizzle</a> <a href="/tags/expo-router/" style="font-size: 10px;">expo router</a> <a href="/tags/filerobot-image-editor/" style="font-size: 10px;">filerobot-image-editor</a> <a href="/tags/java/" style="font-size: 20px;">java</a> <a href="/tags/js/" style="font-size: 10px;">js</a> <a href="/tags/life/" style="font-size: 12px;">life</a> <a href="/tags/llm/" style="font-size: 10px;">llm</a> <a href="/tags/maui/" style="font-size: 10px;">maui</a> <a href="/tags/mybatis/" style="font-size: 10px;">mybatis</a> <a href="/tags/nextjs/" style="font-size: 12px;">nextjs</a> <a href="/tags/nodejs/" style="font-size: 10px;">nodejs</a> <a href="/tags/openai/" style="font-size: 12px;">openai</a> <a href="/tags/playwright/" style="font-size: 10px;">playwright</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/react/" style="font-size: 10px;">react</a> <a href="/tags/react-native/" style="font-size: 10px;">react native</a> <a href="/tags/remix/" style="font-size: 10px;">remix</a> <a href="/tags/route53/" style="font-size: 10px;">route53</a> <a href="/tags/rust/" style="font-size: 18px;">rust</a> <a href="/tags/shopify/" style="font-size: 14px;">shopify</a> <a href="/tags/shopify-CLI/" style="font-size: 10px;">shopify CLI</a> <a href="/tags/spring-boot/" style="font-size: 12px;">spring boot</a> <a href="/tags/troubleshooting/" style="font-size: 10px;">troubleshooting</a> <a href="/tags/%E7%BF%BB%E8%AF%91/" style="font-size: 16px;">ç¿»è¯‘</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">å½’æ¡£</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/06/">å…­æœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/05/">äº”æœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/03/">ä¸‰æœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/01/">ä¸€æœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">åäºŒæœˆ 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">ä¹æœˆ 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/06/">å…­æœˆ 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">ä¸‰æœˆ 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">äºŒæœˆ 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">ä¸€æœˆ 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">åäºŒæœˆ 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">åä¸€æœˆ 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">å…«æœˆ 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">äº”æœˆ 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">å››æœˆ 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">äºŒæœˆ 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">åä¸€æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">åæœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">äº”æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">å››æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">ä¸‰æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">äºŒæœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">ä¸€æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">äº”æœˆ 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">åæœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">å…«æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">å…­æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">äº”æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">ä¸‰æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">äºŒæœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">ä¸€æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">åäºŒæœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">åä¸€æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">åæœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">ä¹æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">å…«æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">ä¸ƒæœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">å…­æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">äº”æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">å››æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">ä¸‰æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">äºŒæœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">åäºŒæœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">åä¸€æœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">åæœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">ä¹æœˆ 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/06/17/how-i-use-claude-code/">[ç¿»è¯‘]æˆ‘å¦‚ä½•ä½¿ç”¨ Claude Code</a>
          </li>
        
          <li>
            <a href="/2025/05/18/nextjs-filerobot-image-editor/">Next.jsä½¿ç”¨filerobot-image-editor</a>
          </li>
        
          <li>
            <a href="/2025/03/20/nextjs-auth-dirzzle-postgresql-error/">Next.jsä½¿ç”¨auth.js+dirzzle+postgresqlæŠ¥é”™åˆ†æ</a>
          </li>
        
          <li>
            <a href="/2025/01/19/gpu-ai-tops-tables/">æ˜¾å¡çš„TOPS AIç®—åŠ›æ¯”è¾ƒ</a>
          </li>
        
          <li>
            <a href="/2025/01/16/jina-readerlm-v2-test/">Jina ReaderLM v2 æµ‹è¯•è®°å½•</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 abaabaqua<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>





<script src="/js/script.js"></script>





  </div>
<!-- hexo injector body_end start --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.30.0/tocbot.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.30.0/tocbot.min.js"></script>
  
    <script>
    document.addEventListener('DOMContentLoaded', function () {
      if (window.location.pathname === '/') {
        return;
      }
      // æ£€æŸ¥æ˜¯å¦å­˜åœ¨ .article-entry å…ƒç´ 
      const articleEntry = document.querySelector('.article-entry');
      if (!articleEntry) return; // å¦‚æœä¸å­˜åœ¨ï¼Œç›´æ¥é€€å‡º

      // åœ¨ .article-title åé¢æ’å…¥ä¸€ä¸ª divï¼Œclass ä¸º toc
      const articleTitle = document.querySelector('header.article-header');
      if (!articleTitle) {
        return;
      }

      const tocDiv = document.createElement('div');
      tocDiv.className = 'toc';
      articleTitle.insertAdjacentElement('afterend', tocDiv);
      // åˆå§‹åŒ– tocbot
      tocbot.init({
        tocSelector: '.toc', // å°†ç›®å½•æ’å…¥åˆ°åˆšåˆšåˆ›å»ºçš„ .toc ä¸­
        contentSelector: '.article-entry',
        headingSelector: 'h2, h3, h4',
        collapseDepth: 3,
        scrollSmooth: true,
        scrollSmoothDuration: 420,
      });
    });
    </script>
  
    <script>
    document.addEventListener('DOMContentLoaded', function () {
      // åˆ›å»ºå›åˆ°é¡¶éƒ¨æŒ‰é’®
      const backToTopButton = document.createElement('div');
      backToTopButton.id = 'back-to-top';
      backToTopButton.innerHTML = 'â†‘ TOP';
      document.body.appendChild(backToTopButton);

      // ç›‘å¬æ»šåŠ¨äº‹ä»¶
      window.addEventListener('scroll', function () {
        if (window.scrollY > 300) { // å½“æ»šåŠ¨è¶…è¿‡300pxæ—¶æ˜¾ç¤ºæŒ‰é’®
          backToTopButton.classList.add('show');
        } else {
          backToTopButton.classList.remove('show');
        }
      });

      // ç‚¹å‡»æŒ‰é’®å›åˆ°é¡¶éƒ¨
      backToTopButton.addEventListener('click', function () {
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });
    });
    </script>
  <!-- hexo injector body_end end --></body>
</html>