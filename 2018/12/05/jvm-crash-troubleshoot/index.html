<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-7QSVE1SQW7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-7QSVE1SQW7');
</script>
<!-- End Google Analytics -->

  
  <title>[ç¿»è¯‘]Javaæ’é”™æŒ‡å— - 5 ç¡®å®šå´©æºƒä½•åœ°å‘ç”Ÿ | å°éº¦çš„æ‚è´§é“º</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="åŸæ–‡åœ°å€: https:&#x2F;&#x2F;docs.oracle.com&#x2F;javase&#x2F;8&#x2F;docs&#x2F;technotes&#x2F;guides&#x2F;troubleshoot&#x2F;crashes001.html è¿™å‡ å¤©å…¬å¸å…¶ä»–ç»„é‡åˆ°äº†ä¸€ä¸ªsegmentation faultçš„é—®é¢˜,æ‰¾åˆ°äº†è¿™ä¸ªå®˜æ–¹æ–‡æ¡£,åŸºäºJava8,æ„Ÿè§‰ä¸é”™å°±ç¿»è¯‘äº†ä¸‹.ä¸€äº›åœ°æ–¹ç¿»è¯‘æ¯”è¾ƒç”Ÿç¡¬,å¦‚æœ‰é—®é¢˜è¯·éº»çƒ¦æŒ‡æ­£~^_^ by fairjm">
<meta property="og:type" content="article">
<meta property="og:title" content="[ç¿»è¯‘]Javaæ’é”™æŒ‡å— - 5 ç¡®å®šå´©æºƒä½•åœ°å‘ç”Ÿ">
<meta property="og:url" content="https://bingowith.me/2018/12/05/jvm-crash-troubleshoot/index.html">
<meta property="og:site_name" content="å°éº¦çš„æ‚è´§é“º">
<meta property="og:description" content="åŸæ–‡åœ°å€: https:&#x2F;&#x2F;docs.oracle.com&#x2F;javase&#x2F;8&#x2F;docs&#x2F;technotes&#x2F;guides&#x2F;troubleshoot&#x2F;crashes001.html è¿™å‡ å¤©å…¬å¸å…¶ä»–ç»„é‡åˆ°äº†ä¸€ä¸ªsegmentation faultçš„é—®é¢˜,æ‰¾åˆ°äº†è¿™ä¸ªå®˜æ–¹æ–‡æ¡£,åŸºäºJava8,æ„Ÿè§‰ä¸é”™å°±ç¿»è¯‘äº†ä¸‹.ä¸€äº›åœ°æ–¹ç¿»è¯‘æ¯”è¾ƒç”Ÿç¡¬,å¦‚æœ‰é—®é¢˜è¯·éº»çƒ¦æŒ‡æ­£~^_^ by fairjm">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2018-12-05T08:53:00.000Z">
<meta property="article:modified_time" content="2018-12-05T08:53:00.000Z">
<meta property="article:author" content="abaabaqua">
<meta property="article:tag" content="åšå®¢,java,rust,blog,C#,shopify">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="å°éº¦çš„æ‚è´§é“º" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.1.7/css/fork-awesome.min.css">

  
<!-- hexo injector head_end start -->
    <link rel="stylesheet" href="/css/cc_custom.css">
  <!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">å°éº¦çš„æ‚è´§é“º</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">æ—¥å¸¸éšç¬”~</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          
            <a class="nav-icon" target="_blank" rel="noopener" href="https://github.com/fairjm"><span class="fa fa-github"></span></a>
          
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS è®¢é˜…"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="æœç´¢"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="æœç´¢"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://bingowith.me"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-jvm-crash-troubleshoot" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/12/05/jvm-crash-troubleshoot/" class="article-date">
  <time class="dt-published" datetime="2018-12-05T08:53:00.000Z" itemprop="datePublished">2018-12-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      [ç¿»è¯‘]Javaæ’é”™æŒ‡å— - 5 ç¡®å®šå´©æºƒä½•åœ°å‘ç”Ÿ
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>åŸæ–‡åœ°å€: <a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/crashes001.html">https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/crashes001.html</a></p>
<p>è¿™å‡ å¤©å…¬å¸å…¶ä»–ç»„é‡åˆ°äº†ä¸€ä¸ªsegmentation faultçš„é—®é¢˜,æ‰¾åˆ°äº†è¿™ä¸ªå®˜æ–¹æ–‡æ¡£,åŸºäºJava8,æ„Ÿè§‰ä¸é”™å°±ç¿»è¯‘äº†ä¸‹.<br>ä¸€äº›åœ°æ–¹ç¿»è¯‘æ¯”è¾ƒç”Ÿç¡¬,å¦‚æœ‰é—®é¢˜è¯·éº»çƒ¦æŒ‡æ­£~^_^ by fairjm</p>
<hr>
<span id="more"></span>

<h1 id="5-1-ç¡®å®šå´©æºƒä½•åœ°å‘ç”Ÿ"><a href="#5-1-ç¡®å®šå´©æºƒä½•åœ°å‘ç”Ÿ" class="headerlink" title="5.1 ç¡®å®šå´©æºƒä½•åœ°å‘ç”Ÿ"></a>5.1 ç¡®å®šå´©æºƒä½•åœ°å‘ç”Ÿ</h1><p>è¿™ä¸€èŠ‚æä¾›äº†ä¸€äº›ä¾‹å­æ¥æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨é”™è¯¯æ—¥å¿—æ¥æ‰¾åˆ°å´©æºƒçš„åŸå› ,å¹¶ä¸”ç»™å‡ºä¸€äº›æ’æŸ¥è¿™äº›é—®é¢˜çš„å»ºè®®.  </p>
<p>é”™è¯¯æ—¥å¿—çš„å¤´æŒ‡å‡ºäº†é”™è¯¯çš„ç±»å‹å’Œæœ‰é—®é¢˜çš„å¸§(frame),thread stackæŒ‡å‡ºäº†å½“å‰çš„çº¿ç¨‹å’Œå †æ ˆè½¨è¿¹.æŸ¥çœ‹<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/felog003.html#BABFFJBB">Header Format</a>  </p>
<p>Crash in Native Code</p>
<p>Crash in Compiled Code</p>
<p>Crash in HotSpot Compiler Thread</p>
<p>Crash in VM Thread</p>
<p>Crash Due to Stack Overflow  </p>
<h2 id="5-1-1-æœ¬åœ°ä»£ç å´©æºƒ"><a href="#5-1-1-æœ¬åœ°ä»£ç å´©æºƒ" class="headerlink" title="5.1.1 æœ¬åœ°ä»£ç å´©æºƒ"></a>5.1.1 æœ¬åœ°ä»£ç å´©æºƒ</h2><p>å¦‚æœè‡´å‘½é”™è¯¯æ—¥å¿—(fatal error log)æŒ‡å‡ºçš„é—®é¢˜å¸§æ¥è‡ªäºæœ¬åœ°åº“,é‚£ä¹ˆå¯èƒ½æ˜¯æœ¬åœ°åº“æˆ–è€…JNIåº“ä»£ç å­˜åœ¨bug.è¿™ç§å´©æºƒå½“ç„¶ä¹Ÿæœ‰å¯èƒ½æ˜¯å…¶ä»–åŸå› é€ æˆçš„,ä½†æ˜¯åˆ†æè¿™ä¸ªåº“å’Œå…¶ä»–çš„core fileæˆ–è€…crash dumpæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å¼€å§‹.<br>ä»¥ä¸‹æ˜¯ä¸€ä¸ªè‡´å‘½é”™è¯¯æ—¥å¿—çš„å¤´:  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># An unexpected error has been detected by HotSpot Virtual Machine:</span><br><span class="line">#</span><br><span class="line">#  SIGSEGV (0xb) at pc=0x417789d7, pid=21139, tid=1024</span><br><span class="line">#</span><br><span class="line"># Java VM: Java HotSpot(TM) Server VM (6-beta2-b63 mixed mode)</span><br><span class="line"># Problematic frame:</span><br><span class="line"># C  [libApplication.so+0x9d7]</span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­,<code>SIGSEGV</code>å‘ç”Ÿåœ¨çº¿ç¨‹æ‰§è¡Œ<code>libApplication.so</code>ä¸­çš„ä»£ç .<br>ä¸€äº›å…¶ä»–ä¾‹å­æ˜¯Java VMçš„æœ¬åœ°åº“å¯¼è‡´çš„.åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­,<code>JavaThread </code>åœ¨<code>_thread_in_vm </code>çŠ¶æ€ä¸­å¤±è´¥äº†(è¡¨æ˜å®ƒæ­£åœ¨æ‰§è¡ŒJava VMä»£ç )  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"># An unexpected error has been detected by HotSpot Virtual Machine:</span><br><span class="line">#</span><br><span class="line">#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x08083d77, pid=3700, tid=2896</span><br><span class="line">#</span><br><span class="line"># Java VM: Java HotSpot(TM) Client VM (1.5-internal mixed mode)</span><br><span class="line"># Problematic frame:</span><br><span class="line"># V  [jvm.dll+0x83d77]</span><br><span class="line"></span><br><span class="line">---------------  T H R E A D  ---------------</span><br><span class="line"></span><br><span class="line">Current thread (0x00036960):  JavaThread &quot;main&quot; [_thread_in_vm, id=2896]</span><br><span class="line"> :</span><br><span class="line">Stack: [0x00040000,0x00080000),  sp=0x0007f9f8,  free space=254k</span><br><span class="line">Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)</span><br><span class="line">V  [jvm.dll+0x83d77]</span><br><span class="line">C  [App.dll+0x1047]          &lt;========= C/native frame</span><br><span class="line">j  Test.foo()V+0</span><br><span class="line">j  Test.main([Ljava/lang/String;)V+0</span><br><span class="line">v  ~StubRoutines::call_stub</span><br><span class="line">V  [jvm.dll+0x80f13]</span><br><span class="line">V  [jvm.dll+0xd3842]</span><br><span class="line">V  [jvm.dll+0x80de4]</span><br><span class="line">V  [jvm.dll+0x87cd2]</span><br><span class="line">C  [java.exe+0x14c0]</span><br><span class="line">C  [java.exe+0x64cd]</span><br><span class="line">C  [kernel32.dll+0x214c7]</span><br><span class="line"> :</span><br></pre></td></tr></table></figure>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­,è™½ç„¶å‡ºé—®é¢˜çš„å¸§æ˜¯VMçš„,çº¿ç¨‹æ ˆæ˜¾ç¤ºä¸€ä¸ªæœ¬åœ°ä¾‹å­(native routine)<code>App.dll</code>å·²ç»è¢«VMè°ƒç”¨(å¯èƒ½æ˜¯é€šè¿‡JNI).  </p>
<p>è§£å†³è¿™ä¸ªæœ¬åœ°åº“å´©æºƒçš„ç¬¬ä¸€æ­¥æ˜¯è°ƒæŸ¥æœ¬åœ°åº“å‘ç”Ÿå´©æºƒçš„é‚£æ®µæºä»£ç .  </p>
<ul>
<li>å¦‚æœæœ¬åœ°åº“æ˜¯ç”±ä½ çš„åº”ç”¨ç¨‹åºæä¾›,é‚£ä¹ˆè°ƒæŸ¥æœ¬åœ°åº“çš„æºä»£ç .å¤§é‡çš„é—®é¢˜å¯ä»¥é€šè¿‡åœ¨è¿è¡Œåº”ç”¨ç¨‹åºæ—¶ä½¿ç”¨<code>-Xcheck:jni</code>å‚æ•°è¢«è¯†åˆ«.æŸ¥çœ‹<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/clopts002.html#CHDDEGBI">The -Xcheck:jni Option</a>.  </li>
<li>å¦‚æœè¿™ä¸ªæœ¬åœ°åº“æ˜¯ç”±å…¶ä»–ä¾›åº”å•†æä¾›,è¢«ä½ çš„ç¨‹åºæ‰€ä½¿ç”¨,é‚£ä¹ˆå°±å‘ä»–ä»¬æä¾›bugæŠ¥å‘Šå’Œè‡´å‘½é”™è¯¯æ—¥å¿—ä¿¡æ¯.  </li>
<li>å¦‚æœæœ¬åœ°åº“æ˜¯æ¥è‡ªäºJREçš„(æ¯”å¦‚awt.dll,net.dllæˆ–å…¶ä»–çš„),é‚£æœ‰å¯èƒ½ä½ é‡åˆ°äº†ä¸€ä¸ªåº“æˆ–è€…APIçš„bug.é‚£ä¹ˆå°±å°½å¯èƒ½è·å–è¶³å¤Ÿçš„ä¿¡æ¯æäº¤ä¸€ä¸ªbugå¹¶æŒ‡ååº“åç§°.ä½ å¯ä»¥åœ¨JREçš„å‘è¡Œç‰ˆä¸­çš„ jre&#x2F;lib æˆ– jre&#x2F;binç›®å½•ä¸­æ‰¾åˆ°JREçš„åº“.</li>
</ul>
<p>å¦‚æœå¯èƒ½çš„è¯,ä½ å¯ä»¥é€šè¿‡æœ¬åœ°debugger attachåˆ°core fileæˆ–crash dumpçš„æ–¹å¼æ¥æ’æŸ¥æœ¬åœ°åº“å´©æºƒ.å–å†³äºä½ æ‰€ä½¿ç”¨çš„ç³»ç»Ÿ,æœ¬åœ°debuggeræœ‰<code>dbx</code>,<code>gdb</code>,æˆ–<code>windbg</code>.æŸ¥çœ‹<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr020.html#BABBHHIE"> Native Operating System Tools</a></p>
<h2 id="5-1-2-ç¼–è¯‘ä»£ç å´©æºƒ"><a href="#5-1-2-ç¼–è¯‘ä»£ç å´©æºƒ" class="headerlink" title="5.1.2 ç¼–è¯‘ä»£ç å´©æºƒ"></a>5.1.2 ç¼–è¯‘ä»£ç å´©æºƒ</h2><p>å¦‚æœè‡´å‘½é”™è¯¯æ—¥å¿—æŒ‡å‡ºå´©æºƒå‘ç”Ÿåœ¨ç¼–è¯‘ä»£ç (compiled code),é‚£æœ‰å¯èƒ½ä½ é‡åˆ°äº†ä¸€ä¸ªç¼–è¯‘å™¨å¯¼è‡´çš„ä¸æ­£ç¡®ä»£ç ç”Ÿæˆçš„bug.ä½ å¯ä»¥é€šè¿‡é—®é¢˜å †æ ˆçš„ç±»å‹æ˜¯<code>J</code>(ä»£è¡¨ä¸€ä¸ªcompiled java frame)æ¥è¯†åˆ«.  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># An unexpected error has been detected by HotSpot Virtual Machine:</span><br><span class="line">#</span><br><span class="line">#  SIGSEGV (0xb) at pc=0x0000002a99eb0c10, pid=6106, tid=278546</span><br><span class="line">#</span><br><span class="line"># Java VM: Java HotSpot(TM) 64-Bit Server VM (1.6.0-beta-b51 mixed mode)</span><br><span class="line"># Problematic frame:</span><br><span class="line"># J  org.foobar.Scanner.body()V</span><br><span class="line">#</span><br><span class="line">:</span><br><span class="line">Stack: [0x0000002aea560000,0x0000002aea660000),  sp=0x0000002aea65ddf0,</span><br><span class="line">  free space=1015k</span><br><span class="line">Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)</span><br><span class="line">J  org.foobar.Scanner.body()V</span><br><span class="line"></span><br><span class="line">[error occurred during error reporting, step 120, id 0xb]</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„:è¯¥ä¾‹å­æ— æ³•è·å¾—ä¸€ä¸ªå®Œæ•´çš„çº¿ç¨‹æ ˆ.è¾“å‡ºçš„â€error occurred during error reportingâ€ è¡¨ç¤ºé—®é¢˜å‘ç”Ÿåœ¨è¯•å›¾è·å–å †æ ˆè·Ÿè¸ª(å¯èƒ½æ˜¯æ ˆæŸåäº†).  </p>
<p>é€šè¿‡æ›´æ¢ç¼–è¯‘å™¨çš„æ–¹å¼å¯èƒ½å¯ä»¥ä¸´æ—¶è§£å†³(ä¾‹å¦‚ä½¿ç”¨HotSpot Client VMå–ä»£HotSpot Server VM,æˆ–åè¿‡æ¥)æˆ–è€…ä»ç¼–è¯‘ä¸­æ’é™¤æ‰å¯¼è‡´å´©æºƒçš„æ–¹æ³•.åœ¨è¿™ä¸ªä¾‹å­ä¸­,å°†64ä½çš„Server VMæ¢æˆ32ä½çš„Client VMå¯èƒ½ä¼šæœ‰ç”¨.  </p>
<p>æ›´å¤šå¯èƒ½çš„è§„é¿æªæ–½è§<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/crashes002.html#CIHDIBJA">Working Around Crashes in the HotSpot Compiler Thread or Compiled Code</a>.</p>
<h2 id="5-1-3-HotSpotç¼–è¯‘å™¨çº¿ç¨‹å´©æºƒ"><a href="#5-1-3-HotSpotç¼–è¯‘å™¨çº¿ç¨‹å´©æºƒ" class="headerlink" title="5.1.3 HotSpotç¼–è¯‘å™¨çº¿ç¨‹å´©æºƒ"></a>5.1.3 HotSpotç¼–è¯‘å™¨çº¿ç¨‹å´©æºƒ</h2><p>å¦‚æœæ ¸å¿ƒé”™è¯¯æ—¥å¿—æ˜¾ç¤ºçš„å½“å‰çº¿ç¨‹æ˜¯ä¸€ä¸ªå«<code>CompilerThread0</code>,<code>CompilerThread1</code>æˆ–<code>AdapterCompiler</code>çš„<code>JavaThread</code>,é‚£ä¹ˆä½ å¯èƒ½é‡ä¸Šäº†ç¼–è¯‘å™¨bug.å¯èƒ½è§£å†³æ–¹å¼å’Œä¸Šä¸€èŠ‚ä¸€æ ·.(æ‡’å¾—å¤è¯»äº†â€¦)  </p>
<h2 id="5-1-4-VMçº¿ç¨‹å´©æºƒ"><a href="#5-1-4-VMçº¿ç¨‹å´©æºƒ" class="headerlink" title="5.1.4 VMçº¿ç¨‹å´©æºƒ"></a>5.1.4 VMçº¿ç¨‹å´©æºƒ</h2><p>å¦‚æœæ ¸å¿ƒé”™è¯¯æ—¥å¿—æ˜¾ç¤ºçš„å½“å‰çº¿ç¨‹æ˜¯<code>VMThread</code>,é‚£ä¹ˆæŸ¥çœ‹ä¸€ä¸‹åœ¨<code>THREAD</code>é‚£èŠ‚åŒ…å«<code>VM_Operation </code>çš„é‚£ä¸€è¡Œ.<code>VMThread </code>æ˜¯ç‰¹æ®Šçš„çš„HotSpot VMçº¿ç¨‹.å®ƒæ‰§è¡Œä¸€äº›ç‰¹æ®Šçš„å·¥ä½œæ¯”å¦‚GC.å¦‚æœ<code>VM_Operation</code>è¡¨æ˜æ“ä½œæ˜¯GC,é‚£ä¹ˆä½ å¯èƒ½é‡åˆ°äº†è¯¸å¦‚å †æŸåçš„é—®é¢˜.  </p>
<p>åŒ…æ‹¬GCé—®é¢˜ä¹‹å¤–,å®ƒåŒæ ·å¯èƒ½æ˜¯ä¸€äº›å…¶ä»–é—®é¢˜(ä¾‹å¦‚ç¼–è¯‘å™¨æˆ–è€…è¿è¡Œæ—¶bug)å¯¼è‡´çš„å¯¹è±¡å¼•ç”¨åœ¨å †ä¸­å¤„äºä¸€ä¸ªä¸å®Œæ•´å’Œä¸æ­£ç¡®çš„çŠ¶æ€.è¿™ç§æƒ…å†µä¸‹,æ”¶é›†å°½å¯èƒ½å¤šçš„ç¯å¢ƒä¿¡æ¯å’Œå°è¯•å¯èƒ½çš„è§„é¿æ–¹æ¡ˆ.å¦‚æœå‘ç°å’ŒGCæœ‰å…³,ä½ å¯èƒ½é€šè¿‡ä¿®æ”¹GCé…ç½®çš„æ–¹å¼æ¥ä¸´æ—¶ä¿è¯æ­£å¸¸è¿è¡Œ.  </p>
<p>å¯¹äºæ›´å¤šçš„è§„é¿æ–¹æ¡ˆ,æŸ¥çœ‹<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/crashes002.html#CIHEEBDG">Working Around Crashes during Garbage Collection</a></p>
<h2 id="5-1-5-çˆ†æ ˆå´©æºƒ"><a href="#5-1-5-çˆ†æ ˆå´©æºƒ" class="headerlink" title="5.1.5 çˆ†æ ˆå´©æºƒ"></a>5.1.5 çˆ†æ ˆå´©æºƒ</h2><p>javaè¯­è¨€çš„ä¸€ä¸ªæ ˆæº¢å‡ºé€šå¸¸ä¼šå¯¼è‡´çº¿ç¨‹æŠ›å‡ºçƒ¦äººçš„<code>java.lang.StackOverflowError</code>å¼‚å¸¸.å¦ä¸€æ–¹é¢,Cå’ŒC++å†™å…¥è¶…è¿‡äº†æ ˆçš„ç»“æŸä¼šå¼•èµ·ä¸€ä¸ªæ ˆæº¢å‡º.è¿™æ˜¯ä¸€ä¸ªè‡´å‘½çš„é”™è¯¯,ä¼šå¯¼è‡´è¿›ç¨‹ç»ˆæ­¢.  </p>
<p>åœ¨HotSpotå®ç°ä¸­,Javaæ–¹æ³•å’ŒC&#x2F;C++æœ¬åœ°ä»£ç å…±äº«æ ˆå¸§,å³ç”¨æˆ·æœ¬åœ°ä»£ç å’ŒVMè‡ªèº«.<br>Javaæ–¹æ³•äº§ç”Ÿçš„ä»£ç ä¼šæ£€æŸ¥æ ˆç¦»æ ˆçš„ç»“æŸæ˜¯å¦ä¼šæœ‰å›ºå®šè·ç¦»å¯ç”¨çš„ç©ºé—´,æ‰€ä»¥æœ¬åœ°ä»£ç çš„è°ƒç”¨å¯ä»¥ä¸æ‹…å¿ƒæ˜¯å¦ä¼šè¶…è¿‡æ ˆç©ºé—´.<br>åˆ°æ ˆç»“æŸçš„è·ç¦»è¢«ç§°ä¸º<code>Shadow Pages</code>.è¿™ä¸ªå¤§å°å–å†³äºæ‰€åœ¨å¹³å°,shadow pagesåœ¨3åˆ°20é¡µä¹‹é—´.<br>è¿™ä¸ªè·ç¦»æ˜¯å¯ä»¥è°ƒæ•´çš„,æ‰€ä»¥åº”ç”¨ä½¿ç”¨åˆ°äº†æœ¬åœ°ä»£ç æƒ³è¦æ¯”é»˜è®¤æ›´å¤§çš„è·ç¦»æ—¶å¯ä»¥å¢åŠ shadow pageçš„å¤§å°.<br>å¢åŠ çš„å‚æ•°æ˜¯<code>-XX:StackShadowPages=n</code>,nè®¾å®šä¸ºæ¯”å½“å‰å¹³å°é»˜è®¤å€¼å¤§.  </p>
<p>å¦‚æœä½ çš„åº”ç”¨é‡ä¸Šäº†segmentation faultä½†æ˜¯æ²¡æœ‰core fileæˆ–è‡´å‘½é”™è¯¯æ—¥å¿—å‚è§<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/felog.html#fatal_error_log_vm">Appendix A</a>,æˆ–è€…åœ¨windowsä¸Š<code>STACK_OVERFLOW_ERROR </code>,æˆ–è€…å¾—åˆ°ä¸€ä¸ªæ¶ˆæ¯â€An irrecoverable stack overflow has occurredâ€,è¿™è¯´æ˜è¶…è¿‡äº†<code>StackShadowPages</code>,éœ€è¦æ›´å¤§çš„ç©ºé—´.  </p>
<p>å¦‚æœä½ å¢åŠ äº†<code>StackShadowPages</code>,ä½ å¯èƒ½ä¹Ÿéœ€è¦ä½¿ç”¨<code>-Xss</code>å‚æ•°å¢åŠ é»˜è®¤çš„çº¿ç¨‹æ ˆå¤§å°.å¢åŠ é»˜è®¤çš„çº¿ç¨‹æ ˆå¤§å°å¯èƒ½ä¼šå‡å°‘å¯åˆ›å»ºçš„çº¿ç¨‹æ•°,æ‰€ä»¥è¯·å°å¿ƒé€‰æ‹©è¿™ä¸ªæ•°å€¼.çº¿ç¨‹æ ˆçš„å¤§å°äºä¸åŒå¹³å°ä¸Šåœ¨256KBåˆ°1024KB.  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"># An unexpected error has been detected by HotSpot Virtual Machine:</span><br><span class="line">#</span><br><span class="line">#  EXCEPTION_STACK_OVERFLOW (0xc00000fd) at pc=0x10001011, pid=296, tid=2940</span><br><span class="line">#</span><br><span class="line"># Java VM: Java HotSpot(TM) Client VM (1.6-internal mixed mode, sharing)</span><br><span class="line"># Problematic frame:</span><br><span class="line"># C  [App.dll+0x1011]</span><br><span class="line">#</span><br><span class="line"></span><br><span class="line">---------------  T H R E A D  ---------------</span><br><span class="line"></span><br><span class="line">Current thread (0x000367c0):  JavaThread &quot;main&quot; [_thread_in_native, id=2940]</span><br><span class="line">:</span><br><span class="line">Stack: [0x00040000,0x00080000),  sp=0x00041000,  free space=4k</span><br><span class="line">Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)</span><br><span class="line">C  [App.dll+0x1011]</span><br><span class="line">C  [App.dll+0x1020]</span><br><span class="line">C  [App.dll+0x1020]</span><br><span class="line">:</span><br><span class="line">C  [App.dll+0x1020]</span><br><span class="line">C  [App.dll+0x1020]</span><br><span class="line">...&lt;more frames&gt;...</span><br><span class="line"></span><br><span class="line">Java frames: (J=compiled Java code, j=interpreted, Vv=VM code)</span><br><span class="line">j  Test.foo()V+0</span><br><span class="line">j  Test.main([Ljava/lang/String;)V+0</span><br><span class="line">v  ~StubRoutines::call_stub</span><br></pre></td></tr></table></figure>
<p>ä½ å¯ä»¥ä»ä¾‹å­ä¸­è·å¾—ä»¥ä¸‹ä¿¡æ¯:  </p>
<ul>
<li>å¼‚å¸¸æ˜¯<code>EXCEPTION_STACK_OVERFLOW</code>  </li>
<li>çº¿ç¨‹çš„çŠ¶æ€æ˜¯<code>_thread_in_native</code>,è¡¨ç¤ºçº¿ç¨‹åœ¨æ‰§è¡Œnativeæˆ–è€…JNIä»£ç .  </li>
<li>çº¿ç¨‹ä¿¡æ¯ä¸­,å¯ç”¨çš„ç©ºé—´ä»…ä»…åªæœ‰4KB(windowsç³»ç»Ÿä¸­çš„å•é¡µ).å¦å¤–çº¿ç¨‹æŒ‡é’ˆ(sp)åœ¨<code>0x00041000</code>,å¾ˆæ¥è¿‘æ ˆç»“æŸ<code>0x00040000</code>.  </li>
<li>è¾“å‡ºçš„æœ¬åœ°æ ˆæ˜¾ç¤ºä¸€ä¸ªé€’å½’çš„æœ¬åœ°æ–¹æ³•æ˜¯è¿™ä¸ªé—®é¢˜çš„åŸå› .<code>...&lt;more frames&gt;...</code>è¡¨æ˜è¿˜æœ‰æ›´å¤šçš„å¸§å­˜åœ¨ä½†æ˜¯æ²¡æœ‰è¾“å‡º.è¾“å‡ºåªé™äº100å¸§.</li>
</ul>
<hr>
<p>ç›¸å…³èµ„æ–™:<br><a target="_blank" rel="noopener" href="https://www.slideshare.net/AndreiPangin/do-we-need-unsafe-in-java">Do we need Unsafe in Java?</a>  </p>
<p><a target="_blank" rel="noopener" href="https://codegolf.stackexchange.com/questions/4399/shortest-code-that-raises-a-sigsegv?page=1&tab=votes#tab-top">Shortest code that raises a SIGSEGV</a>  </p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/36109313/best-way-on-how-to-solve-debug-jvm-crash-sigsegv">Best way on how to solve&#x2F;debug JVM crash (SIGSEGV)
</a></p>
<p>openjdkç›¸å…³bug:<br><a target="_blank" rel="noopener" href="https://bugs.openjdk.java.net/browse/JDK-8171429">JVM Crash in # Problematic frame: # J 569 C2 java.lang.Long.getChars(JI[C)V (221 bytes) @ 0x00007fb9b618dfd8 [0x00007fb9b618dc40+0x398]</a>  </p>
<p><a target="_blank" rel="noopener" href="https://bugs.openjdk.java.net/browse/JDK-8144565">JVM crash. Problematic frame: J 4518 C2 java.lang.Long.getChar</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://bingowith.me/2018/12/05/jvm-crash-troubleshoot/" data-id="cmk6d05p7001vl8va83i86gaz" data-title="[ç¿»è¯‘]Javaæ’é”™æŒ‡å— - 5 ç¡®å®šå´©æºƒä½•åœ°å‘ç”Ÿ" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/01/30/translate-the-various-kinds-of-io-blocking-non/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">å‰ä¸€ç¯‡</strong>
      <div class="article-nav-title">
        
          [ç¿»è¯‘]å„ä¸ªç±»å‹çš„IO -  é˜»å¡, éé˜»å¡,å¤šè·¯å¤ç”¨å’Œå¼‚æ­¥
        
      </div>
    </a>
  
  
    <a href="/2018/11/28/10035181/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">åä¸€ç¯‡</strong>
      <div class="article-nav-title">Akkaå®è·µä¸€äº›æ€»ç»“</div>
    </a>
  
</nav>

  
</article>


</section>
        
      </div>
      <footer id="footer">
  
    <aside id="sidebar" class="outer">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">åˆ†ç±»</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AI/">AI</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/AI/%E6%95%99%E7%A8%8B/">æ•™ç¨‹</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/">å‰ç«¯å¼€å‘</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/">æ¶æ„è®¾è®¡</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%8A%80%E6%9C%AF/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/">è®¡ç®—æœºåŸºç¡€</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ASP-NET/" rel="tag">ASP.NET</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Astro/" rel="tag">Astro</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Better-Auth/" rel="tag">Better Auth</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CDN/" rel="tag">CDN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSR/" rel="tag">CSR</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cache-Components/" rel="tag">Cache Components</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ComfyUI/" rel="tag">ComfyUI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Drizzle/" rel="tag">Drizzle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GBK/" rel="tag">GBK</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GPT/" rel="tag">GPT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GPU/" rel="tag">GPU</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/H2/" rel="tag">H2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JOOQ/" rel="tag">JOOQ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MPA/" rel="tag">MPA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Next-js/" rel="tag">Next.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Next-js-16/" rel="tag">Next.js 16</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OS/" rel="tag">OS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PostgreSQL/" rel="tag">PostgreSQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RSC/" rel="tag">RSC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/" rel="tag">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SPA/" rel="tag">SPA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSE/" rel="tag">SSE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSR/" rel="tag">SSR</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UTF-8/" rel="tag">UTF-8</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unicode/" rel="tag">Unicode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web-Development/" rel="tag">Web Development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Z-Image/" rel="tag">Z-Image</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/auth-js/" rel="tag">auth.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aws/" rel="tag">aws</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/azure/" rel="tag">azure</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blazor/" rel="tag">blazor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/claude/" rel="tag">claude</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cloudflare/" rel="tag">cloudflare</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker-compose/" rel="tag">docker compose</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dotnet/" rel="tag">dotnet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/drizzle/" rel="tag">drizzle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/expo-router/" rel="tag">expo router</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/filerobot-image-editor/" rel="tag">filerobot-image-editor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/" rel="tag">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/life/" rel="tag">life</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/llm/" rel="tag">llm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maui/" rel="tag">maui</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mybatis/" rel="tag">mybatis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/" rel="tag">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysqldump/" rel="tag">mysqldump</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nextjs/" rel="tag">nextjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/" rel="tag">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/" rel="tag">nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openai/" rel="tag">openai</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/playwright/" rel="tag">playwright</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/" rel="tag">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react-native/" rel="tag">react native</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/remix/" rel="tag">remix</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/route53/" rel="tag">route53</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rust/" rel="tag">rust</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/" rel="tag">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shopify/" rel="tag">shopify</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shopify-CLI/" rel="tag">shopify CLI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-boot/" rel="tag">spring boot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/timestamp/" rel="tag">timestamp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/timezone/" rel="tag">timezone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/troubleshooting/" rel="tag">troubleshooting</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BD%8E%E6%98%BE%E5%AD%98/" rel="tag">ä½æ˜¾å­˜</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84/" rel="tag">å‰ç«¯æ¶æ„</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%97%E7%AC%A6%E9%9B%86/" rel="tag">å­—ç¬¦é›†</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E7%A0%81/" rel="tag">ç¼–ç </a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BF%BB%E8%AF%91/" rel="tag">ç¿»è¯‘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%87%8F%E5%8C%96/" rel="tag">é‡åŒ–</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾äº‘</h3>
    <div class="widget tagcloud">
      <a href="/tags/ASP-NET/" style="font-size: 10px;">ASP.NET</a> <a href="/tags/Astro/" style="font-size: 10px;">Astro</a> <a href="/tags/Better-Auth/" style="font-size: 10px;">Better Auth</a> <a href="/tags/C/" style="font-size: 10px;">C#</a> <a href="/tags/CDN/" style="font-size: 10px;">CDN</a> <a href="/tags/CSR/" style="font-size: 12px;">CSR</a> <a href="/tags/Cache-Components/" style="font-size: 10px;">Cache Components</a> <a href="/tags/ComfyUI/" style="font-size: 10px;">ComfyUI</a> <a href="/tags/Drizzle/" style="font-size: 10px;">Drizzle</a> <a href="/tags/GBK/" style="font-size: 10px;">GBK</a> <a href="/tags/GPT/" style="font-size: 10px;">GPT</a> <a href="/tags/GPU/" style="font-size: 10px;">GPU</a> <a href="/tags/H2/" style="font-size: 10px;">H2</a> <a href="/tags/JOOQ/" style="font-size: 10px;">JOOQ</a> <a href="/tags/MPA/" style="font-size: 10px;">MPA</a> <a href="/tags/MySQL/" style="font-size: 14px;">MySQL</a> <a href="/tags/Next-js/" style="font-size: 14px;">Next.js</a> <a href="/tags/Next-js-16/" style="font-size: 10px;">Next.js 16</a> <a href="/tags/OS/" style="font-size: 10px;">OS</a> <a href="/tags/PostgreSQL/" style="font-size: 10px;">PostgreSQL</a> <a href="/tags/RSC/" style="font-size: 10px;">RSC</a> <a href="/tags/React/" style="font-size: 12px;">React</a> <a href="/tags/SPA/" style="font-size: 12px;">SPA</a> <a href="/tags/SSE/" style="font-size: 10px;">SSE</a> <a href="/tags/SSR/" style="font-size: 10px;">SSR</a> <a href="/tags/UTF-8/" style="font-size: 10px;">UTF-8</a> <a href="/tags/Unicode/" style="font-size: 10px;">Unicode</a> <a href="/tags/Web-Development/" style="font-size: 10px;">Web Development</a> <a href="/tags/Z-Image/" style="font-size: 10px;">Z-Image</a> <a href="/tags/auth-js/" style="font-size: 10px;">auth.js</a> <a href="/tags/aws/" style="font-size: 12px;">aws</a> <a href="/tags/azure/" style="font-size: 12px;">azure</a> <a href="/tags/blazor/" style="font-size: 10px;">blazor</a> <a href="/tags/claude/" style="font-size: 10px;">claude</a> <a href="/tags/cloudflare/" style="font-size: 10px;">cloudflare</a> <a href="/tags/docker/" style="font-size: 14px;">docker</a> <a href="/tags/docker-compose/" style="font-size: 10px;">docker compose</a> <a href="/tags/dotnet/" style="font-size: 10px;">dotnet</a> <a href="/tags/drizzle/" style="font-size: 12px;">drizzle</a> <a href="/tags/expo-router/" style="font-size: 10px;">expo router</a> <a href="/tags/filerobot-image-editor/" style="font-size: 10px;">filerobot-image-editor</a> <a href="/tags/java/" style="font-size: 20px;">java</a> <a href="/tags/javascript/" style="font-size: 12px;">javascript</a> <a href="/tags/js/" style="font-size: 10px;">js</a> <a href="/tags/life/" style="font-size: 12px;">life</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/llm/" style="font-size: 10px;">llm</a> <a href="/tags/maui/" style="font-size: 10px;">maui</a> <a href="/tags/mybatis/" style="font-size: 10px;">mybatis</a> <a href="/tags/mysql/" style="font-size: 14px;">mysql</a> <a href="/tags/mysqldump/" style="font-size: 10px;">mysqldump</a> <a href="/tags/nextjs/" style="font-size: 16px;">nextjs</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/nodejs/" style="font-size: 12px;">nodejs</a> <a href="/tags/openai/" style="font-size: 12px;">openai</a> <a href="/tags/playwright/" style="font-size: 10px;">playwright</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/react/" style="font-size: 10px;">react</a> <a href="/tags/react-native/" style="font-size: 10px;">react native</a> <a href="/tags/remix/" style="font-size: 10px;">remix</a> <a href="/tags/route53/" style="font-size: 10px;">route53</a> <a href="/tags/rust/" style="font-size: 18px;">rust</a> <a href="/tags/shell/" style="font-size: 10px;">shell</a> <a href="/tags/shopify/" style="font-size: 14px;">shopify</a> <a href="/tags/shopify-CLI/" style="font-size: 10px;">shopify CLI</a> <a href="/tags/spring-boot/" style="font-size: 12px;">spring boot</a> <a href="/tags/timestamp/" style="font-size: 10px;">timestamp</a> <a href="/tags/timezone/" style="font-size: 10px;">timezone</a> <a href="/tags/troubleshooting/" style="font-size: 10px;">troubleshooting</a> <a href="/tags/%E4%BD%8E%E6%98%BE%E5%AD%98/" style="font-size: 10px;">ä½æ˜¾å­˜</a> <a href="/tags/%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84/" style="font-size: 10px;">å‰ç«¯æ¶æ„</a> <a href="/tags/%E5%AD%97%E7%AC%A6%E9%9B%86/" style="font-size: 10px;">å­—ç¬¦é›†</a> <a href="/tags/%E7%BC%96%E7%A0%81/" style="font-size: 10px;">ç¼–ç </a> <a href="/tags/%E7%BF%BB%E8%AF%91/" style="font-size: 16px;">ç¿»è¯‘</a> <a href="/tags/%E9%87%8F%E5%8C%96/" style="font-size: 10px;">é‡åŒ–</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">å½’æ¡£</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2026/01/">ä¸€æœˆ 2026</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/12/">åäºŒæœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/11/">åä¸€æœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/09/">ä¹æœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/08/">å…«æœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/07/">ä¸ƒæœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/06/">å…­æœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/05/">äº”æœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/03/">ä¸‰æœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/01/">ä¸€æœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">åäºŒæœˆ 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">ä¹æœˆ 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/06/">å…­æœˆ 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">ä¸‰æœˆ 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">äºŒæœˆ 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">ä¸€æœˆ 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">åäºŒæœˆ 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">åä¸€æœˆ 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">å…«æœˆ 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">äº”æœˆ 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">å››æœˆ 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">äºŒæœˆ 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">åä¸€æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">åæœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">äº”æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">å››æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">ä¸‰æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">äºŒæœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">ä¸€æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">äº”æœˆ 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">åæœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">å…«æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">å…­æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">äº”æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">ä¸‰æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">äºŒæœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">ä¸€æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">åäºŒæœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">åä¸€æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">åæœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">ä¹æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">å…«æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">ä¸ƒæœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">å…­æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">äº”æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">å››æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">ä¸‰æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">äºŒæœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">åäºŒæœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">åä¸€æœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">åæœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">ä¹æœˆ 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2026/01/09/astro-better-auth-integration/">Astro é¡¹ç›®é›†æˆ Better Auth æŒ‡å—(ä½¿ç”¨drizzle+PG)</a>
          </li>
        
          <li>
            <a href="/2025/12/10/character-encoding-explained/">å­—ç¬¦ç¼–ç è¯¦è§£ï¼šUTF-8ã€Unicodeã€GBK ç­‰</a>
          </li>
        
          <li>
            <a href="/2025/12/09/understanding-ssr-csr-spa-mpa/">æ·±å…¥ç†è§£ SSR/CSR ä¸ SPA/MPAï¼šç°ä»£å‰ç«¯æ¸²æŸ“æ¨¡å¼è¯¦è§£</a>
          </li>
        
          <li>
            <a href="/2025/11/28/z-image-turbo-low-vram-setup/">6GBæ˜¾å­˜è·‘Z-Image-Turboå®Œå…¨æŒ‡å—</a>
          </li>
        
          <li>
            <a href="/2025/11/16/nextjs-docker-deploy-pitfalls/">è‡ªè¡Œéƒ¨ç½² Next.js Docker çš„æŒ‘æˆ˜ï¼šè‡ƒè‚¿ã€å¹³å°ç»‘å®šä¸éšè—çš„â€œå‘â€</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2026 abaabaqua<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>





<script src="/js/script.js"></script>





  </div>
<!-- hexo injector body_end start --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.30.0/tocbot.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.30.0/tocbot.min.js"></script>
  
    <script>
    document.addEventListener('DOMContentLoaded', function () {
      if (window.location.pathname === '/') {
        return;
      }
      // æ£€æŸ¥æ˜¯å¦å­˜åœ¨ .article-entry å…ƒç´ 
      const articleEntry = document.querySelector('.article-entry');
      if (!articleEntry) return; // å¦‚æœä¸å­˜åœ¨ï¼Œç›´æ¥é€€å‡º

      // æ£€æŸ¥æ˜¯å¦æ˜¯æ–‡ç« é¡µé¢
      const articleTitle = document.querySelector('header.article-header');
      if (!articleTitle) {
        return;
      }

      // åˆ›å»ºä¾§è¾¹æ å®¹å™¨
      const tocSidebar = document.createElement('div');
      tocSidebar.className = 'toc-sidebar';

      // åˆ›å»ºåˆ‡æ¢æŒ‰é’®
      const toggleBtn = document.createElement('button');
      toggleBtn.className = 'toc-toggle';
      toggleBtn.innerHTML = 'ğŸ“‘';
      toggleBtn.title = 'ç›®å½•';

      // åˆ›å»º TOC å†…å®¹å®¹å™¨
      const tocDiv = document.createElement('div');
      tocDiv.className = 'toc';

      tocSidebar.appendChild(toggleBtn);
      tocSidebar.appendChild(tocDiv);
      document.body.appendChild(tocSidebar);

      // åˆå§‹åŒ– tocbot
      tocbot.init({
        tocSelector: '.toc',
        contentSelector: '.article-entry',
        headingSelector: 'h2, h3, h4',
        collapseDepth: 3,
        scrollSmooth: true,
        scrollSmoothDuration: 420,
      });

      // ä» localStorage è¯»å–æ”¶ç¼©çŠ¶æ€
      const isCollapsed = localStorage.getItem('tocCollapsed') === 'true';
      if (isCollapsed) {
        tocSidebar.classList.add('collapsed');
      }

      // åˆ‡æ¢æŒ‰é’®ç‚¹å‡»äº‹ä»¶
      toggleBtn.addEventListener('click', function () {
        tocSidebar.classList.toggle('collapsed');
        const collapsed = tocSidebar.classList.contains('collapsed');
        localStorage.setItem('tocCollapsed', collapsed);
      });
    });
    </script>
  
    <script>
    document.addEventListener('DOMContentLoaded', function () {
      // åˆ›å»ºå›åˆ°é¡¶éƒ¨æŒ‰é’®
      const backToTopButton = document.createElement('div');
      backToTopButton.id = 'back-to-top';
      backToTopButton.innerHTML = 'â†‘ TOP';
      document.body.appendChild(backToTopButton);

      // ç›‘å¬æ»šåŠ¨äº‹ä»¶
      window.addEventListener('scroll', function () {
        if (window.scrollY > 300) { // å½“æ»šåŠ¨è¶…è¿‡300pxæ—¶æ˜¾ç¤ºæŒ‰é’®
          backToTopButton.classList.add('show');
        } else {
          backToTopButton.classList.remove('show');
        }
      });

      // ç‚¹å‡»æŒ‰é’®å›åˆ°é¡¶éƒ¨
      backToTopButton.addEventListener('click', function () {
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });
    });
    </script>
  <!-- hexo injector body_end end --></body>
</html>