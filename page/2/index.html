<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>小麦的杂货铺</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="记录日常~ coding &amp; life">
<meta property="og:type" content="website">
<meta property="og:title" content="小麦的杂货铺">
<meta property="og:url" content="https://bingowith.me/page/2/index.html">
<meta property="og:site_name" content="小麦的杂货铺">
<meta property="og:description" content="记录日常~ coding &amp; life">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="abaabaqua">
<meta property="article:tag" content="博客,java,rust,blog,C#,shopify">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="小麦的杂货铺" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.1.7/css/fork-awesome.min.css">

  
<!-- hexo injector head_end start -->
    <link rel="stylesheet" href="/css/cc_custom.css">
  <!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">小麦的杂货铺</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">日常随笔~</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          
            <a class="nav-icon" target="_blank" rel="noopener" href="https://github.com/fairjm"><span class="fa fa-github"></span></a>
          
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS 订阅"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="搜索"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://bingowith.me"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-azure-openai-java-sdk-stream-function-handle" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/11/15/azure-openai-java-sdk-stream-function-handle/" class="article-date">
  <time class="dt-published" datetime="2023-11-14T18:54:00.000Z" itemprop="datePublished">2023-11-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/11/15/azure-openai-java-sdk-stream-function-handle/">使用Azure openai java SDK在流式输出时处理functioncall</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>emmm,新的功能和api都出了,还在写旧格式的感觉有点过时。<br>之前都是用非流式的使用function, 刚好遇到这个处理了下顺便记录一下。</p>
        
          <p class="article-more-link">
            <a href="/2023/11/15/azure-openai-java-sdk-stream-function-handle/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://bingowith.me/2023/11/15/azure-openai-java-sdk-stream-function-handle/" data-id="cm4m873ub000epovacvmm5exm" data-title="使用Azure openai java SDK在流式输出时处理functioncall" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SSE/" rel="tag">SSE</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/azure/" rel="tag">azure</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openai/" rel="tag">openai</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-shopify-plugin-development-issue-tracking" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/08/19/shopify-plugin-development-issue-tracking/" class="article-date">
  <time class="dt-published" datetime="2023-08-19T06:36:00.000Z" itemprop="datePublished">2023-08-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/08/19/shopify-plugin-development-issue-tracking/">shopify插件开发的问题记录</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p>Shopify作为流行的电商平台,支持安装各种插件扩展功能<br>插件开发中难免会遇到各种问题,记录和跟踪这些问题非常重要<br>emmmm…之前遇到过一些问题,但时间有点长记得不清楚了… …<br>这里先记录一些最近遇到的,之后再不断补充</p>
        
          <p class="article-more-link">
            <a href="/2023/08/19/shopify-plugin-development-issue-tracking/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://bingowith.me/2023/08/19/shopify-plugin-development-issue-tracking/" data-id="cm4m873v2002mpova6a0cc5gr" data-title="shopify插件开发的问题记录" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/shopify/" rel="tag">shopify</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/troubleshooting/" rel="tag">troubleshooting</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-chatgpt-plugin-setup-java-python" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/05/15/chatgpt-plugin-setup-java-python/" class="article-date">
  <time class="dt-published" datetime="2023-05-15T05:40:00.000Z" itemprop="datePublished">2023-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/05/15/chatgpt-plugin-setup-java-python/">ChatGPT Plugin开发setup - Java(Spring Boot) Python(fastapi)</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>记录一下快速模板,整体很简单,如果不接auth,只需要以下:</p>
<ul>
<li>提供一个<code>/.well-known/ai-plugin.json</code>接口,返回openAI所需要的格式</li>
<li>提供openAPI规范的文档</li>
<li>CORS设置</li>
</ul>
<p>其他的和普通的web开发类似.  </p>
<p>本地开发就直接使用localhost即可,前几天官方localhost<a target="_blank" rel="noopener" href="https://community.openai.com/t/localhost-dev-plugins-not-working-any-more/203968">无法联通</a>,最近应该修复了.  </p>
<p>要让GPT更好理解接口内容,接口需要写详细的文档,在文档内写清楚各个参数作用和可选值以及示例.</p>
        
          <p class="article-more-link">
            <a href="/2023/05/15/chatgpt-plugin-setup-java-python/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://bingowith.me/2023/05/15/chatgpt-plugin-setup-java-python/" data-id="cm4m873ue000kpovad6cd7ezc" data-title="ChatGPT Plugin开发setup - Java(Spring Boot) Python(fastapi)" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GPT/" rel="tag">GPT</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-leptos-tailwindcss" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/04/08/leptos-tailwindcss/" class="article-date">
  <time class="dt-published" datetime="2023-04-07T18:22:00.000Z" itemprop="datePublished">2023-04-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/04/08/leptos-tailwindcss/">leptos手工集成tailwindcss</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>最近在看<code>leptos</code>,之前使用过<code>bulma</code>作为css库,感觉样式太少,想结合<code>tailwindcss</code>.</p>
        
          <p class="article-more-link">
            <a href="/2023/04/08/leptos-tailwindcss/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://bingowith.me/2023/04/08/leptos-tailwindcss/" data-id="cm4m873ur001mpova8cm97130" data-title="leptos手工集成tailwindcss" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/rust/" rel="tag">rust</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-translation-there-is-no-thread" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/02/22/translation-there-is-no-thread/" class="article-date">
  <time class="dt-published" datetime="2023-02-22T06:48:00.000Z" itemprop="datePublished">2023-02-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/02/22/translation-there-is-no-thread/">[翻译]没有线程</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>原文来自:<a target="_blank" rel="noopener" href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html">https://blog.stephencleary.com/2013/11/there-is-no-thread.html</a><br>作者:<a target="_blank" rel="noopener" href="https://blog.stephencleary.com/">Stephen Cleary</a><br>翻译 by <a href="https://bingowith.me/">abaabaqua</a></p>
<p>这是最纯粹形式的异步的一个基本事实：没有线程。</p>
<p>反对这一事实的人很多。”不”,他们喊道,”如果我正在等待手术，一定有一个线程在等待！它可能是一个线程池线程。或者操作系统线程！或者带有设备驱动程序的东西……”</p>
<p>不要理会那些哭声。如果异步操作是纯粹的，那么就没有线程。</p>
        
          <p class="article-more-link">
            <a href="/2023/02/22/translation-there-is-no-thread/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://bingowith.me/2023/02/22/translation-there-is-no-thread/" data-id="cm4m873v80034pova26ru1g2u" data-title="[翻译]没有线程" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BF%BB%E8%AF%91/" rel="tag">翻译</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-high-performance-mysql-4th-ch01-note" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/11/08/high-performance-mysql-4th-ch01-note/" class="article-date">
  <time class="dt-published" datetime="2022-11-08T06:20:01.000Z" itemprop="datePublished">2022-11-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/11/08/high-performance-mysql-4th-ch01-note/">高性能MySQL(第4版) 第一章 MySQL架构 读书笔记</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>这本书去年11月出的,今年中文版也出了,并且直接上了<a target="_blank" rel="noopener" href="https://weread.qq.com/web/bookDetail/00a32b70813ab746fg018ec7">微信读书</a>,之后有空就读一读,分享下读书笔记~    </p>
<p>原文内容比较充实,建议有时间可以读一下原文.<br>第一章主要是个概览.</p>
<h1 id="MySQL的逻辑架构"><a href="#MySQL的逻辑架构" class="headerlink" title="MySQL的逻辑架构"></a>MySQL的逻辑架构</h1><p><img src="/images/hpm4_ch01_01.png"><br>默认情况下,每个客户端连接都会在服务器进程中拥有一个线程,该连接的查询只会在这个单独的线程中执行,该线程驻留在一个内核或者CPU上.<br>线程池</p>
<p>优化器会向存储引擎询问它的一些功能、某个具体操作的成本,以及表数据的统计信息.</p>
<p>query cache 5.7.20弃用 8.0移除<br>考虑应用自己在redis中缓存</p>
        
          <p class="article-more-link">
            <a href="/2022/11/08/high-performance-mysql-4th-ch01-note/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://bingowith.me/2022/11/08/high-performance-mysql-4th-ch01-note/" data-id="cm4m873ul0013povac0eabhjp" data-title="高性能MySQL(第4版) 第一章 MySQL架构 读书笔记" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-shardingsphere-jdbc-learn-note" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/11/05/shardingsphere-jdbc-learn-note/" class="article-date">
  <time class="dt-published" datetime="2022-11-05T07:43:10.000Z" itemprop="datePublished">2022-11-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/11/05/shardingsphere-jdbc-learn-note/">shardingsphere-jdbc 水平分表学习记录</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>前司使用的是自己魔改的<code>TDDL</code>,在家时间比较多就尝试学一些业内比较常用的中间件.  </p>
<p>这里记录一下学习中遇到的一些问题.  </p>
<h1 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h1><p>设置的比较简单(太懒了就测试了几个表), 两个分库, 各有几张分表.<br>sharding-test_0</p>
<ul>
<li>order_0 (order_id)</li>
<li>order_1 </li>
<li>order_item_0 (order_id)</li>
<li>order_item_1</li>
<li>user_0 (user_id)</li>
<li>user_1</li>
<li>address (用来做broadcast表)</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `order_0` (</span><br><span class="line">  `order_id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `user_id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `address_id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`order_id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 <span class="keyword">COLLATE</span><span class="operator">=</span>utf8mb4_0900_ai_ci;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `order_item_0` (</span><br><span class="line">  `order_item_id` <span class="type">bigint</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `order_id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`order_item_id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 <span class="keyword">COLLATE</span><span class="operator">=</span>utf8mb4_0900_ai_ci;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `user_0` (</span><br><span class="line">  `user_id` <span class="type">bigint</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `user_name` <span class="type">varchar</span>(<span class="number">45</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`user_id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 <span class="keyword">COLLATE</span><span class="operator">=</span>utf8mb4_0900_ai_ci;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `address` (</span><br><span class="line">  `address_id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `address_name` <span class="type">varchar</span>(<span class="number">45</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`address_id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 <span class="keyword">COLLATE</span><span class="operator">=</span>utf8mb4_0900_ai_ci;</span><br></pre></td></tr></table></figure>

<p>spring-boot-starter使用2.7.5<br>shardingsphere-jdbc-core-spring-boot-starter使用5.2.1  </p>
<p>测试的时候最好直接跑,不要用单测,会被自动回滚掉.<br>可以定义多个<code>ApplicationRunner</code>来测试.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyApplicationRunner</span> <span class="keyword">implements</span> <span class="title class_">ApplicationRunner</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">(<span class="keyword">final</span> ApplicationArguments args)</span> <span class="keyword">throws</span> Exception &#123;</span><br></pre></td></tr></table></figure>

<p>用<code>JdbcTemplate</code>方便点也省去了依赖更多的东西.<br>返回自增key的代码样例:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">KeyHolder</span> <span class="variable">keyHolder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GeneratedKeyHolder</span>();</span><br><span class="line">jdbcTemplate.update(connection -&gt; &#123;</span><br><span class="line">    <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> connection.prepareStatement(<span class="string">&quot;insert into user(`user_name`) values (?)&quot;</span>,</span><br><span class="line">            Statement.RETURN_GENERATED_KEYS);</span><br><span class="line">    ps.setString(<span class="number">1</span>, <span class="string">&quot;cc2&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> ps;</span><br><span class="line">&#125;, keyHolder);</span><br><span class="line">System.out.println(<span class="string">&quot;key:&quot;</span> + keyHolder.getKey());</span><br></pre></td></tr></table></figure>


<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><p>本来使用yaml的配置,但看了一下有点太乱,先用properties的代替.<br>配的时候有比较多的问题,几个配置错误会导致没法启动或者测试时报错,但配完之后感觉整体逻辑还是比较清晰的.  </p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.shardingsphere.mode.type</span>=<span class="string">Standalone</span></span><br><span class="line"><span class="attr">spring.shardingsphere.props.sql-show</span>=<span class="string">true</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># logic datasource</span></span><br><span class="line"><span class="attr">spring.shardingsphere.datasource.names</span>=<span class="string">shard00,shard01</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># real datasource</span></span><br><span class="line"><span class="attr">spring.shardingsphere.datasource.shard00.type</span>=<span class="string">com.zaxxer.hikari.HikariDataSource</span></span><br><span class="line"><span class="attr">spring.shardingsphere.datasource.shard00.driver-class-name</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">spring.shardingsphere.datasource.shard00.jdbc-url</span>=<span class="string">jdbc:mysql://localhost:3306/sharding_test_0</span></span><br><span class="line"><span class="attr">spring.shardingsphere.datasource.shard00.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">spring.shardingsphere.datasource.shard00.password</span>=<span class="string"></span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring.shardingsphere.datasource.shard01.type</span>=<span class="string">com.zaxxer.hikari.HikariDataSource</span></span><br><span class="line"><span class="attr">spring.shardingsphere.datasource.shard01.driver-class-name</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">spring.shardingsphere.datasource.shard01.jdbc-url</span>=<span class="string">jdbc:mysql://localhost:3306/sharding_test_1</span></span><br><span class="line"><span class="attr">spring.shardingsphere.datasource.shard01.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">spring.shardingsphere.datasource.shard01.password</span>=<span class="string"></span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.user.actual-data-nodes</span>=<span class="string">\</span></span><br><span class="line"><span class="string">  shard0$-&gt;&#123;0..1&#125;.user_$-&gt;&#123;0..1&#125;</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order_item.actual-data-nodes</span>=<span class="string">\</span></span><br><span class="line"><span class="string">  shard0$-&gt;&#123;0..1&#125;.order_item_$-&gt;&#123;0..1&#125;</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order.actual-data-nodes</span>=<span class="string">\</span></span><br><span class="line"><span class="string">  shard0$-&gt;&#123;0..1&#125;.order_$-&gt;&#123;0..1&#125;</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.address.actual-data-nodes</span>=<span class="string">\</span></span><br><span class="line"><span class="string">  shard0$-&gt;&#123;0..1&#125;.address</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># database strategy and table strategy</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.user.database-strategy.standard.sharding-column</span>=<span class="string">user_id</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.user.database-strategy.standard.sharding-algorithm-name</span>=<span class="string">alg_db_user</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.sharding-algorithms.alg_db_user.type</span>=<span class="string">MOD</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.sharding-algorithms.alg_db_user.props.sharding-count</span>=<span class="string">2</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.user.table-strategy.standard.sharding-column</span>=<span class="string">user_id</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.user.table-strategy.standard.sharding-algorithm-name</span>=<span class="string">alg_table_user</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.sharding-algorithms.alg_table_user.type</span>=<span class="string">HASH_MOD</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.sharding-algorithms.alg_table_user.props.sharding-count</span>=<span class="string">2</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order.database-strategy.standard.sharding-column</span>=<span class="string">order_id</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order.database-strategy.standard.sharding-algorithm-name</span>=<span class="string">alg_db_order</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.sharding-algorithms.alg_db_order.type</span>=<span class="string">MOD</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.sharding-algorithms.alg_db_order.props.sharding-count</span>=<span class="string">2</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order.table-strategy.standard.sharding-column</span>=<span class="string">order_id</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order.table-strategy.standard.sharding-algorithm-name</span>=<span class="string">alg_table_order</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.sharding-algorithms.alg_table_order.type</span>=<span class="string">HASH_MOD</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.sharding-algorithms.alg_table_order.props.sharding-count</span>=<span class="string">2</span></span><br><span class="line"><span class="comment"># order_item and order use the same strategy</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order_item.database-strategy.standard.sharding-column</span>=<span class="string">order_id</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order_item.database-strategy.standard.sharding-algorithm-name</span>=<span class="string">alg_db_order</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order_item.table-strategy.standard.sharding-column</span>=<span class="string">order_id</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order_item.table-strategy.standard.sharding-algorithm-name</span>=<span class="string">alg_table_order</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># key generator</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.user.key-generate-strategy.column</span>=<span class="string">user_id</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.user.key-generate-strategy.key-generator-name</span>=<span class="string">alg_snowflake</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order.key-generate-strategy.column</span>=<span class="string">order_id</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order.key-generate-strategy.key-generator-name</span>=<span class="string">alg_snowflake</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order_item.key-generate-strategy.column</span>=<span class="string">order_item_id</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order_item.key-generate-strategy.key-generator-name</span>=<span class="string">alg_snowflake</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># key generator algorithm</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.key-generators.alg_snowflake.type</span>=<span class="string">SNOWFLAKE</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.key-generators.alg_uuid.type</span>=<span class="string">UUID</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># binding table and broadcast table</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.binding-tables[0]</span>=<span class="string">order,order_item</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.broadcast-tables</span>=<span class="string">address</span></span><br></pre></td></tr></table></figure>

<p>也就分为逻辑datasource定义, 真实的datasource定义.<br>对于每个逻辑表,定义分库分表规则,如果需要生成分布式key,定义key的生成算法.<br>分别对应<code>spring.shardingsphere.datasource.</code>前缀和<code>spring.shardingsphere.rules.sharding</code>前缀.</p>
<p>对于SNOWFLAKE要注意数据库的字段类型要bigint,int不够放.</p>
<h1 id="启动报错"><a href="#启动报错" class="headerlink" title="启动报错"></a>启动报错</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">***************************</span><br><span class="line">APPLICATION FAILED TO START</span><br><span class="line">***************************</span><br><span class="line"></span><br><span class="line">Description:</span><br><span class="line"></span><br><span class="line">An attempt was made to call a method that does not exist. The attempt was made from the following location:</span><br><span class="line"></span><br><span class="line">    org.apache.shardingsphere.infra.util.yaml.constructor.ShardingSphereYamlConstructor$1.&lt;init&gt;(ShardingSphereYamlConstructor.java:44)</span><br><span class="line"></span><br><span class="line">The following method did not exist:</span><br><span class="line"></span><br><span class="line">    &#x27;void org.apache.shardingsphere.infra.util.yaml.constructor.ShardingSphereYamlConstructor$1.setCodePointLimit(int)&#x27;</span><br><span class="line"></span><br><span class="line">The calling methods class, org.apache.shardingsphere.infra.util.yaml.constructor.ShardingSphereYamlConstructor$1, was loaded from the following location:</span><br><span class="line"></span><br><span class="line">    jar:file:/.m2/repository/org/apache/shardingsphere/shardingsphere-infra-util/5.2.1/shardingsphere-infra-util-5.2.1.jar!/org/apache/shardingsphere/infra/util/yaml/constructor/ShardingSphereYamlConstructor$1.class</span><br><span class="line"></span><br><span class="line">The called methods class, org.apache.shardingsphere.infra.util.yaml.constructor.ShardingSphereYamlConstructor$1, is available from the following locations:</span><br><span class="line"></span><br><span class="line">    jar:file:/.m2/repository/org/apache/shardingsphere/shardingsphere-infra-util/5.2.1/shardingsphere-infra-util-5.2.1.jar!/org/apache/shardingsphere/infra/util/yaml/constructor/ShardingSphereYamlConstructor$1.class</span><br><span class="line"></span><br><span class="line">The called methods class hierarchy was loaded from the following locations:</span><br><span class="line"></span><br><span class="line">    null: file:/.m2/repository/org/apache/shardingsphere/shardingsphere-infra-util/5.2.1/shardingsphere-infra-util-5.2.1.jar</span><br><span class="line">    org.yaml.snakeyaml.LoaderOptions: file:/.m2/repository/org/yaml/snakeyaml/1.30/snakeyaml-1.30.jar</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Action:</span><br><span class="line"></span><br><span class="line">Correct the classpath of your application so that it contains a single, compatible version of org.apache.shardingsphere.infra.util.yaml.constructor.ShardingSphereYamlConstructor$1</span><br></pre></td></tr></table></figure>

<p>很明显的一个以来冲突问题, 主要是这行代码:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">ShardingSphereYamlConstructor</span><span class="params">(<span class="keyword">final</span> Class&lt;?&gt; rootClass)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(rootClass, <span class="keyword">new</span> <span class="title class_">LoaderOptions</span>() &#123;</span><br><span class="line">        </span><br><span class="line">        &#123;</span><br><span class="line">            setCodePointLimit(Integer.MAX_VALUE);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    ShardingSphereYamlConstructFactory.getInstances().forEach(each -&gt; typeConstructs.put(each.getType(), each));</span><br><span class="line">    ShardingSphereYamlShortcutsFactory.getAllYamlShortcuts().forEach((key, value) -&gt; addTypeDescription(<span class="keyword">new</span> <span class="title class_">TypeDescription</span>(value, key)));</span><br><span class="line">    <span class="built_in">this</span>.rootClass = rootClass;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>snakeyaml的版本冲突,使用的版本中<code>LoaderOptions</code>没有<code>setCodePointLimit</code>这个方法.<br>使用的springboot的依赖的是<code>1.30.0</code>,显式依赖<code>1.33.0</code>即可.  </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.yaml<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>snakeyaml<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.33<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line"># 配置错误导致的报错  </span><br><span class="line">这类报错种类比较多  </span><br><span class="line">比如  </span><br><span class="line">* `DataNodesMissedWithShardingTableException`</span><br><span class="line">* `ShardingRuleNotFoundException`  </span><br><span class="line">* `InconsistentShardingTableMetaDataException`  </span><br><span class="line"></span><br><span class="line">等等, 启动就会失败, 因为是读取了配置解析异常.  </span><br><span class="line"></span><br><span class="line">这种就要看看对应的错误和配置.  </span><br><span class="line"></span><br><span class="line">不过有点奇怪的是一些错误没有打出详细的报错信息.比如:</span><br></pre></td></tr></table></figure>
<p>Caused by: org.apache.shardingsphere.sharding.exception.metadata.DataNodesMissedWithShardingTableException: null<br>    at org.apache.shardingsphere.sharding.rule.TableRule.lambda$checkRule$4(TableRule.java:246) ~[shardingsphere-sharding-core-5.2.1.jar:5.2.1]<br>    at org.apache.shardingsphere.infra.util.exception.ShardingSpherePreconditions.checkState(ShardingSpherePreconditions.java:41) ~[shardingsphere-infra-util-5.2.1.jar:5.2.1]<br>    at org.apache.shardingsphere.sharding.rule.TableRule.checkRule(TableRule.java:245) ~[shardingsphere-sharding-core-5.2.1.jar:5.2.1]</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">看了下是基类没调用super,导致message没有值.看了下这个已经在master分支修好了:</span><br><span class="line">```java</span><br><span class="line">    public ShardingSphereSQLException(final SQLState sqlState, final int typeOffset, final int errorCode, final String reason, final Object... messageArguments) &#123;</span><br><span class="line">        this(sqlState.getValue(), typeOffset, errorCode, reason, messageArguments);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public ShardingSphereSQLException(final String sqlState, final int typeOffset, final int errorCode, final String reason, final Object... messageArguments) &#123;</span><br><span class="line">        this.sqlState = sqlState;</span><br><span class="line">        vendorCode = typeOffset * 10000 + errorCode;</span><br><span class="line">        this.reason = null == reason ? null : String.format(reason, messageArguments);</span><br><span class="line">        // missing super(resaon) here</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="数据库自动生成的key不能作为route-key"><a href="#数据库自动生成的key不能作为route-key" class="headerlink" title="数据库自动生成的key不能作为route key"></a>数据库自动生成的key不能作为route key</h1><p>但是分布式生成的key可以, 这个在FAQ里有, 有这个错误是刚开始配分布式key的时候配错了.</p>
<p><a target="_blank" rel="noopener" href="https://shardingsphere.apache.org/document/current/cn/faq/">原文:</a></p>
<blockquote>
<p>[分片] ShardingSphere 除了支持自带的分布式自增主键之外，还能否支持原生的自增主键？<br>回答：</p>
<p>是的，可以支持。但原生自增主键有使用限制，即不能将原生自增主键同时作为分片键使用。 由于 ShardingSphere 并不知晓数据库的表结构，而原生自增主键是不包含在原始 SQL 中内的，因此 ShardingSphere 无法将该字段解析为分片字段。如自增主键非分片键，则无需关注，可正常返回；若自增主键同时作为分片键使用，ShardingSphere 无法解析其分片值，导致 SQL 路由至多张表，从而影响应用的正确性。 而原生自增主键返回的前提条件是 INSERT SQL 必须最终路由至一张表，因此，面对返回多表的 INSERT SQL，自增主键则会返回零。</p>
</blockquote>
<h1 id="分表分库的规则思考"><a href="#分表分库的规则思考" class="headerlink" title="分表分库的规则思考"></a>分表分库的规则思考</h1><p>最开始的时候对于分库分表无脑两个都用了MOD, 但因为分区数和分表数是一样的(都是2).<br>所以mod 2数据的分布也是一样的,这就导致了<code>sharding_test_0</code>的<code>user_1</code>是没有数据的,<code>sharding_test_1</code>的<code>user_0</code>也是没有数据的.<br>分表了个寂寞.  </p>
<p>不只是一样,其实只要分库和分表数最大公约数不为1如果无脑MOD都会有倾斜的问题.<br>可以代码验证下:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">dbShard</span> <span class="operator">=</span> <span class="number">6</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">tableShard</span> <span class="operator">=</span> <span class="number">32</span>;</span><br><span class="line"></span><br><span class="line">Map&lt;Tuple2&lt;Integer, Integer&gt;, Integer&gt; count = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; dbShard; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; tableShard; j++) &#123;</span><br><span class="line">        count.put(Tuple.tuple(i, j), <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++) &#123;</span><br><span class="line">    count.computeIfPresent(Tuple.tuple(i % dbShard, i % tableShard), (k, v) -&gt; v + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">count.forEach((k,v) -&gt; &#123;</span><br><span class="line">    System.out.println(k + <span class="string">&quot;:&quot;</span> + v);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>因为前司我经手的项目用的都是分表,还没有到分库,没有意识到这个问题,也算是一点点小经验吧,要考虑下分库分表的规则组合会不会导致数据倾斜.</p>
<p>其他还有些实践中的问题,当时没有记录把配置整对之后也不知道怎么复现了.<br>不得不说shardingsphere-jdbc的易用性是非常高了,通俗易懂.</p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p>shardingsphere官网: <a target="_blank" rel="noopener" href="https://shardingsphere.apache.org/">https://shardingsphere.apache.org</a><br>shardingsphere-jdbc配置: <a target="_blank" rel="noopener" href="https://shardingsphere.apache.org/document/current/cn/user-manual/shardingsphere-jdbc/yaml-config/">https://shardingsphere.apache.org/document/current/cn/user-manual/shardingsphere-jdbc/yaml-config/</a><br>shardingsphere FAQ: <a target="_blank" rel="noopener" href="https://shardingsphere.apache.org/document/current/cn/faq/">https://shardingsphere.apache.org/document/current/cn/faq/</a><br><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/14537546/how-to-get-generated-id-after-i-inserted-into-a-new-data-record-in-database-usin">How to get generated ID after I inserted into a new data record in database using Spring JDBCTemplate?</a>    </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://bingowith.me/2022/11/05/shardingsphere-jdbc-learn-note/" data-id="cm4m873uz002cpova6wml5piz" data-title="shardingsphere-jdbc 水平分表学习记录" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-translation-the-problem-with-shared-mutability" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/10/26/translation-the-problem-with-shared-mutability/" class="article-date">
  <time class="dt-published" datetime="2022-10-26T04:12:00.000Z" itemprop="datePublished">2022-10-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/10/26/translation-the-problem-with-shared-mutability/">[翻译]单线程共享可变性的问题</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>原文链接: <a target="_blank" rel="noopener" href="https://manishearth.github.io/blog/2015/05/17/the-problem-with-shared-mutability/">https://manishearth.github.io/blog/2015/05/17/the-problem-with-shared-mutability/</a><br>作者: <a target="_blank" rel="noopener" href="https://manishearth.github.io/">Manish Goregaokar</a><br>翻译 by <a href="https://bingowith.me/">abaabaqua</a></p>
<p><strong>注</strong>: 这篇文章写的比较早,早期的Rust编译器有很多不友善的地方,代码示例中部分当时无法编译的现在已经可以了,译者会增改一些代码导致和原文不同.</p>
<hr>
<p>Edit(2017年1月):我重新发现了<a target="_blank" rel="noopener" href="http://smallcultfollowing.com/babysteps/blog/2013/06/11/on-the-connection-between-memory-management-and-data-race-freedom/">Niko的文章</a>,文章也提到了这一点并达到了同样的认识.我怀疑我下意识地从这篇文章中得到了这个想法,至少是部分的想法.</p>
<p>这是我一直想写的一篇文章;Rust 1.0的发布给了我继续接下去的完美动力.</p>
<p>虽然这篇文章是讨论Rust设计中的一个选择,并且例子都是用Rust写的,但这里讨论的原则在很大程度上适用于其它语言.我还将尝试让那些没有Rust背景的人更容易理解这篇文章;如果需要解释一些代码或术语,请告诉我.</p>
<p>我将在这里讨论的是Rust做的一个选择,不允许同一数据有多个可变别名(或者当有active的不可变别名时只能有一个可变别名) ，即使是在同一个线程.本质上讲,它不允许做这样的事情:</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">x</span> = <span class="type">Vec</span>::<span class="title function_ invoke__">new</span>();</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">ptr</span> = &amp;<span class="keyword">mut</span> x; <span class="comment">// 获取队`x`的可变引用</span></span><br><span class="line">    ptr.<span class="title function_ invoke__">push</span>(<span class="number">1</span>); <span class="comment">// 允许</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">y</span> = x[<span class="number">0</span>]; <span class="comment">// 不允许 (无法编译): 只要`ptr`是active的,</span></span><br><span class="line">                  <span class="comment">// x不能读取 ...</span></span><br><span class="line">    x.<span class="title function_ invoke__">push</span>(<span class="number">1</span>);    <span class="comment">// .. 也不能写入</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, ptr); <span class="comment">// 这段是译者新加 现在的编译器限制判断是否active更加智能 不是看整个作用域了</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 另外一种,</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">x</span> = <span class="type">Vec</span>::<span class="title function_ invoke__">new</span>();</span><br><span class="line">x.<span class="title function_ invoke__">push</span>(<span class="number">1</span>); <span class="comment">// 允许</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">ptr</span> = &amp;x; <span class="comment">// 创建一个不可变引用</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">y</span> = ptr[<span class="number">0</span>]; <span class="comment">// 允许, 不改变值</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">y</span> = x[<span class="number">0</span>]; <span class="comment">// 同样允许</span></span><br><span class="line">    x.<span class="title function_ invoke__">push</span>(<span class="number">1</span>); <span class="comment">// 不允许 (无法编译): 只要`ptr`是active,</span></span><br><span class="line">               <span class="comment">// `x`被冻结了可变性</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, ptr); <span class="comment">// 译者新加 原因一样</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        
          <p class="article-more-link">
            <a href="/2022/10/26/translation-the-problem-with-shared-mutability/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://bingowith.me/2022/10/26/translation-the-problem-with-shared-mutability/" data-id="cm4m873v80035pova6fao24za" data-title="[翻译]单线程共享可变性的问题" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/rust/" rel="tag">rust</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BF%BB%E8%AF%91/" rel="tag">翻译</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-flink_kafka_avro_genericrecord" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/05/11/flink_kafka_avro_genericrecord/" class="article-date">
  <time class="dt-published" datetime="2022-05-11T05:00:00.000Z" itemprop="datePublished">2022-05-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/05/11/flink_kafka_avro_genericrecord/">flink kafka source的avro反序列化问题</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>对接了一个<code>kafka</code>,里面的topic使用<code>avro</code>编码,且每个topic的<code>schema</code>都不相同使用schema registry管理。<br>现在要反序列化<code>key</code>和<code>message</code>,查看了现有的:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.flink<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>flink-avro-confluent-registry<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>内的<code>ConfluentRegistryAvroDeserializationSchema</code>.<br>发现无论是<code>forSpecific</code>返回一个特定的类,还是<code>forGeneric</code>返回<code>GenericRecord</code>都需要指定<code>read schame</code>,而registry仅作为<code>write schema</code>使用, 也就是虽然返回的是<code>GenericRecord</code>, 但实际上都是同一个<code>Schema</code>反序列化的, 每个record的格式是一致的.</p>
        
          <p class="article-more-link">
            <a href="/2022/05/11/flink_kafka_avro_genericrecord/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://bingowith.me/2022/05/11/flink_kafka_avro_genericrecord/" data-id="cm4m873ui000upovab0y9e63r" data-title="flink kafka source的avro反序列化问题" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-run-hadoop-application-on-windows" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/04/17/run-hadoop-application-on-windows/" class="article-date">
  <time class="dt-published" datetime="2022-04-16T18:28:14.000Z" itemprop="datePublished">2022-04-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/04/17/run-hadoop-application-on-windows/">windwos下运行hadoop相关代码(hdfs,mr)</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>最近在学习一些<code>hadoop</code>相关的知识,需要在本地运行<code>hdfs</code>和<code>mr</code>相关的代码.<br>因为开发机使用的是windows,所以会有一些不太方便.  </p>
<p>可以在windows下解压<code>hadoop</code>,然后在应用的<code>env</code>中指定<code>HADOOP_HOME</code>为解压路径.<br>在windows中需要<code>winutils.exe</code>工具,当前网上好心人预编译好的只到<code>3.3.0</code>.<br>见: <a target="_blank" rel="noopener" href="https://kontext.tech/article/446/hadoop-330-winutils">https://kontext.tech/article/446/hadoop-330-winutils</a>  </p>
        
          <p class="article-more-link">
            <a href="/2022/04/17/run-hadoop-application-on-windows/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://bingowith.me/2022/04/17/run-hadoop-application-on-windows/" data-id="cm4m873uz002apova8qj1h9cs" data-title="windwos下运行hadoop相关代码(hdfs,mr)" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/3/">下一页 &raquo;</a>
  </nav>

</section>
        
      </div>
      <footer id="footer">
  
    <aside id="sidebar" class="outer">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ASP-NET/" rel="tag">ASP.NET</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GPT/" rel="tag">GPT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/H2/" rel="tag">H2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JOOQ/" rel="tag">JOOQ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OS/" rel="tag">OS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSE/" rel="tag">SSE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aws/" rel="tag">aws</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/azure/" rel="tag">azure</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blazor/" rel="tag">blazor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker-compose/" rel="tag">docker compose</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dotnet/" rel="tag">dotnet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/expo-router/" rel="tag">expo router</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/life/" rel="tag">life</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maui/" rel="tag">maui</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mybatis/" rel="tag">mybatis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/" rel="tag">nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openai/" rel="tag">openai</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/playwright/" rel="tag">playwright</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/" rel="tag">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react-native/" rel="tag">react native</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/remix/" rel="tag">remix</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rust/" rel="tag">rust</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shopify/" rel="tag">shopify</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shopify-CLI/" rel="tag">shopify CLI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-boot/" rel="tag">spring boot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/troubleshooting/" rel="tag">troubleshooting</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BF%BB%E8%AF%91/" rel="tag">翻译</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/ASP-NET/" style="font-size: 10px;">ASP.NET</a> <a href="/tags/C/" style="font-size: 10px;">C#</a> <a href="/tags/GPT/" style="font-size: 10px;">GPT</a> <a href="/tags/H2/" style="font-size: 10px;">H2</a> <a href="/tags/JOOQ/" style="font-size: 10px;">JOOQ</a> <a href="/tags/MySQL/" style="font-size: 14px;">MySQL</a> <a href="/tags/OS/" style="font-size: 10px;">OS</a> <a href="/tags/SSE/" style="font-size: 10px;">SSE</a> <a href="/tags/aws/" style="font-size: 10px;">aws</a> <a href="/tags/azure/" style="font-size: 12px;">azure</a> <a href="/tags/blazor/" style="font-size: 10px;">blazor</a> <a href="/tags/docker/" style="font-size: 12px;">docker</a> <a href="/tags/docker-compose/" style="font-size: 10px;">docker compose</a> <a href="/tags/dotnet/" style="font-size: 10px;">dotnet</a> <a href="/tags/expo-router/" style="font-size: 10px;">expo router</a> <a href="/tags/java/" style="font-size: 20px;">java</a> <a href="/tags/life/" style="font-size: 12px;">life</a> <a href="/tags/maui/" style="font-size: 10px;">maui</a> <a href="/tags/mybatis/" style="font-size: 10px;">mybatis</a> <a href="/tags/nodejs/" style="font-size: 10px;">nodejs</a> <a href="/tags/openai/" style="font-size: 12px;">openai</a> <a href="/tags/playwright/" style="font-size: 10px;">playwright</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/react/" style="font-size: 10px;">react</a> <a href="/tags/react-native/" style="font-size: 10px;">react native</a> <a href="/tags/remix/" style="font-size: 10px;">remix</a> <a href="/tags/rust/" style="font-size: 18px;">rust</a> <a href="/tags/shopify/" style="font-size: 14px;">shopify</a> <a href="/tags/shopify-CLI/" style="font-size: 10px;">shopify CLI</a> <a href="/tags/spring-boot/" style="font-size: 12px;">spring boot</a> <a href="/tags/troubleshooting/" style="font-size: 10px;">troubleshooting</a> <a href="/tags/%E7%BF%BB%E8%AF%91/" style="font-size: 16px;">翻译</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">十二月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">九月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/06/">六月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">三月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">二月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">一月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">十二月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">十一月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">八月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">五月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">四月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">二月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">十一月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">十月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">五月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">四月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">三月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">二月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">一月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">五月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">四月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/12/13/cautious-use-of-usefetcher-polling-in-remix/">在remix中谨慎使用useFetcher进行poll</a>
          </li>
        
          <li>
            <a href="/2024/12/04/spring-boot-docker-graceful-shutdown-guide/">Spring Boot Docker优雅关机总结</a>
          </li>
        
          <li>
            <a href="/2024/09/22/shopify-cli-china-development-setup/">shopify CLI国内开发配置</a>
          </li>
        
          <li>
            <a href="/2024/06/19/react-native-expo-router-android-modal-not-working-solution/">react native的expo router安卓下modal不生效的解法</a>
          </li>
        
          <li>
            <a href="/2024/06/05/aws_cloudwatch_agent_no_metric/">AWS安装cloudwatch agent后没有指标出现解决</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 abaabaqua<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>





<script src="/js/script.js"></script>





  </div>
</body>
</html>