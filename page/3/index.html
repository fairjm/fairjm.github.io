<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>å°éº¦çš„æ‚è´§é“º</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="è®°å½•æ—¥å¸¸~ coding &amp; life">
<meta property="og:type" content="website">
<meta property="og:title" content="å°éº¦çš„æ‚è´§é“º">
<meta property="og:url" content="https://bingowith.me/page/3/index.html">
<meta property="og:site_name" content="å°éº¦çš„æ‚è´§é“º">
<meta property="og:description" content="è®°å½•æ—¥å¸¸~ coding &amp; life">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="abaabaqua">
<meta property="article:tag" content="åšå®¢,java,rust,blog,C#,shopify">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="å°éº¦çš„æ‚è´§é“º" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.ico">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.1.7/css/fork-awesome.min.css">

  
<!-- hexo injector head_end start -->
    <link rel="stylesheet" href="/css/cc_custom.css">
  <!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">å°éº¦çš„æ‚è´§é“º</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">æ—¥å¸¸éšç¬”~</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          
            <a class="nav-icon" target="_blank" rel="noopener" href="https://github.com/fairjm"><span class="fa fa-github"></span></a>
          
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS è®¢é˜…"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="æœç´¢"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="æœç´¢"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://bingowith.me"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-docker-container-log-too-large" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2024/01/27/docker-container-log-too-large/" class="article-date">
  <time class="dt-published" datetime="2024-01-26T16:16:00.000Z" itemprop="datePublished">2024-01-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2024/01/27/docker-container-log-too-large/">docker containerç›®å½•ä¸‹logè¿‡å¤§è§£å†³</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>ç°åœ¨å’Œæœ‹å‹ä¸€èµ·æç‚¹ä¸œè¥¿,éƒ¨ç½²éƒ½å¾ˆç®€å•,æœåŠ¡å™¨ä¸Šè£…ä¸ª<code>docker</code>,æœåŠ¡ä¸¢ä¸Šå»,å†™ä¸ªdocker composeé…ç½®å°±è·‘ç€.<br>æœ‰ä¸ªæœåŠ¡æœ€è¿‘æµé‡æ¶¨çš„æ¯”è¾ƒå¤š,å†åŠ ä¸Šæœ‰æ®µæ—¶é—´æ²¡æœ‰éƒ¨ç½²,çœ‹æœåŠ¡å™¨ä¸Šçš„ç£ç›˜ä½¿ç”¨è¶Šæ¥è¶Šå¤š.  </p>
<p>èµ·åˆä»¥ä¸ºæ˜¯åº”ç”¨çš„æ—¥å¿—å¤ªå¤šäº†,åº”ç”¨æ—¥å¿—æ¯å¤©å½’æ¡£ä¸ºgzip,ä¿ç•™60å¤©,çœ‹äº†ä¸‹å¹¶æ²¡æœ‰å¤šå°‘,ç”¨lsofæ£€æŸ¥ä¹Ÿç¡®è®¤æ²¡æœ‰rollæ‰çš„è¢«æŒæœ‰,å†å»å®¹å™¨å†…éƒ¨çœ‹äº†ä¸‹å‘ç°ä½“ç§¯è¿œæ²¡æœ‰è¿™ä¹ˆå¤§.  </p>
<p>äºæ˜¯å¼€å§‹ç”¨<code>du --max-depth=1</code> æ£€æŸ¥å‘ç°æ˜¯<code>/var/lib/docker/containers/</code>ç›®å½•, å†ä¸€çœ‹å®¹å™¨idå°±æ˜¯è¿™ä¸ªæœåŠ¡, å†å®šä½æ˜¯<code>&lt;container-id&gt;-json.log </code>æ–‡ä»¶.</p>
        
          <p class="article-more-link">
            <a href="/2024/01/27/docker-container-log-too-large/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://bingowith.me/2024/01/27/docker-container-log-too-large/" data-id="cmhg2156g000mwwvahvpceibg" data-title="docker containerç›®å½•ä¸‹logè¿‡å¤§è§£å†³" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/docker-compose/" rel="tag">docker compose</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-blazor-maui-hybrid-app-display-local-image" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/12/25/blazor-maui-hybrid-app-display-local-image/" class="article-date">
  <time class="dt-published" datetime="2023-12-25T04:54:00.000Z" itemprop="datePublished">2023-12-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/12/25/blazor-maui-hybrid-app-display-local-image/">blazor maui hybrid appæ˜¾ç¤ºæœ¬åœ°å›¾ç‰‡</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>å•Šâ€¦ â€¦<br>ä¸€é€šæ“ä½œä¸‹æ¥æ„Ÿè§‰å°±æ˜¯ä¸¤ä¸ªå­— æŠ˜ç£¨<br>è·¨å¹³å°æœ‰è·¨å¹³å°çš„å¥½å¤„ ä½†æ¡†æ¶æœ¬èº«æ”¯æŒçš„æœ‰é™ å¾ˆå¤šä¸œè¥¿åšèµ·æ¥å¾ˆæ›²æŠ˜ å“</p>
<p>è¿™é‡Œæ€»ç»“ä¸€ä¸‹ç¬”è€…ä¸ºäº†æŠ˜è…¾æœ¬åœ°å›¾ç‰‡æ˜¾ç¤ºçš„å°è¯•<br>ä¸ºä»€ä¹ˆè¦åšæœ¬åœ°å›¾ç‰‡å±•ç¤ºå‘¢ å¦‚æœæ˜¯åšéœ€è¦ç½‘ç»œè¿æ¥çš„app è¿™ä¸ªä¸€èˆ¬æ˜¯ä¸éœ€è¦çš„(è¦åšä¸Šä¼ å‰é¢„è§ˆ&#x2F;ç¼–è¾‘çš„è¯è¿˜æ˜¯è¦çš„)<br>ä½†å¯¹äºç¦»çº¿çš„appè‚¯å®šæ˜¯è¦çš„ æ€»ä¼šæœ‰åœºæ™¯ç”¨æˆ·å¯¼å…¥å›¾ç‰‡&#x2F;æ–‡ä»¶ä¹‹ç±»çš„å§  </p>
<p>ç¬”è€…åªæµ‹è¯•äº†windowså’Œå®‰å“è¿™ä¸¤ä¸ªå¹³å°,macå’ŒiOSå› ä¸ºæ²¡æœ‰è®¾å¤‡å’Œå¼€å‘è€…è´¦å·æ‰€ä»¥è°ƒè¯•ä¸äº†ğŸ˜€</p>
        
          <p class="article-more-link">
            <a href="/2023/12/25/blazor-maui-hybrid-app-display-local-image/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://bingowith.me/2023/12/25/blazor-maui-hybrid-app-display-local-image/" data-id="cmhg2156e000gwwva056yb7tf" data-title="blazor maui hybrid appæ˜¾ç¤ºæœ¬åœ°å›¾ç‰‡" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ASP-NET/" rel="tag">ASP.NET</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/" rel="tag">C#</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/blazor/" rel="tag">blazor</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/dotnet/" rel="tag">dotnet</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/maui/" rel="tag">maui</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-azure-openai-java-sdk-stream-function-handle" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/11/15/azure-openai-java-sdk-stream-function-handle/" class="article-date">
  <time class="dt-published" datetime="2023-11-14T18:54:00.000Z" itemprop="datePublished">2023-11-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/11/15/azure-openai-java-sdk-stream-function-handle/">ä½¿ç”¨Azure openai java SDKåœ¨æµå¼è¾“å‡ºæ—¶å¤„ç†functioncall</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>emmm,æ–°çš„åŠŸèƒ½å’Œapiéƒ½å‡ºäº†,è¿˜åœ¨å†™æ—§æ ¼å¼çš„æ„Ÿè§‰æœ‰ç‚¹è¿‡æ—¶ã€‚<br>ä¹‹å‰éƒ½æ˜¯ç”¨éæµå¼çš„ä½¿ç”¨function, åˆšå¥½é‡åˆ°è¿™ä¸ªå¤„ç†äº†ä¸‹é¡ºä¾¿è®°å½•ä¸€ä¸‹ã€‚</p>
        
          <p class="article-more-link">
            <a href="/2023/11/15/azure-openai-java-sdk-stream-function-handle/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://bingowith.me/2023/11/15/azure-openai-java-sdk-stream-function-handle/" data-id="cmhg2156c000ewwvah0h0gwk3" data-title="ä½¿ç”¨Azure openai java SDKåœ¨æµå¼è¾“å‡ºæ—¶å¤„ç†functioncall" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SSE/" rel="tag">SSE</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/azure/" rel="tag">azure</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/openai/" rel="tag">openai</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-shopify-plugin-development-issue-tracking" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/08/19/shopify-plugin-development-issue-tracking/" class="article-date">
  <time class="dt-published" datetime="2023-08-19T06:36:00.000Z" itemprop="datePublished">2023-08-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/08/19/shopify-plugin-development-issue-tracking/">shopifyæ’ä»¶å¼€å‘çš„é—®é¢˜è®°å½•</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Shopifyä½œä¸ºæµè¡Œçš„ç”µå•†å¹³å°,æ”¯æŒå®‰è£…å„ç§æ’ä»¶æ‰©å±•åŠŸèƒ½<br>æ’ä»¶å¼€å‘ä¸­éš¾å…ä¼šé‡åˆ°å„ç§é—®é¢˜,è®°å½•å’Œè·Ÿè¸ªè¿™äº›é—®é¢˜éå¸¸é‡è¦<br>emmmmâ€¦ä¹‹å‰é‡åˆ°è¿‡ä¸€äº›é—®é¢˜,ä½†æ—¶é—´æœ‰ç‚¹é•¿è®°å¾—ä¸æ¸…æ¥šäº†â€¦ â€¦<br>è¿™é‡Œå…ˆè®°å½•ä¸€äº›æœ€è¿‘é‡åˆ°çš„,ä¹‹åå†ä¸æ–­è¡¥å……</p>
        
          <p class="article-more-link">
            <a href="/2023/08/19/shopify-plugin-development-issue-tracking/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://bingowith.me/2023/08/19/shopify-plugin-development-issue-tracking/" data-id="cmhg2157a0038wwva3dt75fyb" data-title="shopifyæ’ä»¶å¼€å‘çš„é—®é¢˜è®°å½•" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/shopify/" rel="tag">shopify</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/troubleshooting/" rel="tag">troubleshooting</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-chatgpt-plugin-setup-java-python" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/05/15/chatgpt-plugin-setup-java-python/" class="article-date">
  <time class="dt-published" datetime="2023-05-15T05:40:00.000Z" itemprop="datePublished">2023-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/05/15/chatgpt-plugin-setup-java-python/">ChatGPT Pluginå¼€å‘setup - Java(Spring Boot) Python(fastapi)</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>è®°å½•ä¸€ä¸‹å¿«é€Ÿæ¨¡æ¿,æ•´ä½“å¾ˆç®€å•,å¦‚æœä¸æ¥auth,åªéœ€è¦ä»¥ä¸‹:</p>
<ul>
<li>æä¾›ä¸€ä¸ª<code>/.well-known/ai-plugin.json</code>æ¥å£,è¿”å›openAIæ‰€éœ€è¦çš„æ ¼å¼</li>
<li>æä¾›openAPIè§„èŒƒçš„æ–‡æ¡£</li>
<li>CORSè®¾ç½®</li>
</ul>
<p>å…¶ä»–çš„å’Œæ™®é€šçš„webå¼€å‘ç±»ä¼¼.  </p>
<p>æœ¬åœ°å¼€å‘å°±ç›´æ¥ä½¿ç”¨localhostå³å¯,å‰å‡ å¤©å®˜æ–¹localhost<a target="_blank" rel="noopener" href="https://community.openai.com/t/localhost-dev-plugins-not-working-any-more/203968">æ— æ³•è”é€š</a>,æœ€è¿‘åº”è¯¥ä¿®å¤äº†.  </p>
<p>è¦è®©GPTæ›´å¥½ç†è§£æ¥å£å†…å®¹,æ¥å£éœ€è¦å†™è¯¦ç»†çš„æ–‡æ¡£,åœ¨æ–‡æ¡£å†…å†™æ¸…æ¥šå„ä¸ªå‚æ•°ä½œç”¨å’Œå¯é€‰å€¼ä»¥åŠç¤ºä¾‹.</p>
        
          <p class="article-more-link">
            <a href="/2023/05/15/chatgpt-plugin-setup-java-python/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://bingowith.me/2023/05/15/chatgpt-plugin-setup-java-python/" data-id="cmhg2156f000lwwva4cng9hmb" data-title="ChatGPT Pluginå¼€å‘setup - Java(Spring Boot) Python(fastapi)" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GPT/" rel="tag">GPT</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-leptos-tailwindcss" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/04/08/leptos-tailwindcss/" class="article-date">
  <time class="dt-published" datetime="2023-04-07T18:22:00.000Z" itemprop="datePublished">2023-04-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/04/08/leptos-tailwindcss/">leptosæ‰‹å·¥é›†æˆtailwindcss</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>æœ€è¿‘åœ¨çœ‹<code>leptos</code>,ä¹‹å‰ä½¿ç”¨è¿‡<code>bulma</code>ä½œä¸ºcssåº“,æ„Ÿè§‰æ ·å¼å¤ªå°‘,æƒ³ç»“åˆ<code>tailwindcss</code>.</p>
        
          <p class="article-more-link">
            <a href="/2023/04/08/leptos-tailwindcss/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://bingowith.me/2023/04/08/leptos-tailwindcss/" data-id="cmhg2156u001ywwva7j3i2svb" data-title="leptosæ‰‹å·¥é›†æˆtailwindcss" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/rust/" rel="tag">rust</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-translation-there-is-no-thread" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/02/22/translation-there-is-no-thread/" class="article-date">
  <time class="dt-published" datetime="2023-02-22T06:48:00.000Z" itemprop="datePublished">2023-02-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/02/22/translation-there-is-no-thread/">[ç¿»è¯‘]æ²¡æœ‰çº¿ç¨‹</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>åŸæ–‡æ¥è‡ª:<a target="_blank" rel="noopener" href="https://blog.stephencleary.com/2013/11/there-is-no-thread.html">https://blog.stephencleary.com/2013/11/there-is-no-thread.html</a><br>ä½œè€…:<a target="_blank" rel="noopener" href="https://blog.stephencleary.com/">Stephen Cleary</a><br>ç¿»è¯‘ by <a href="https://bingowith.me/">abaabaqua</a></p>
<p>è¿™æ˜¯æœ€çº¯ç²¹å½¢å¼çš„å¼‚æ­¥çš„ä¸€ä¸ªåŸºæœ¬äº‹å®ï¼šæ²¡æœ‰çº¿ç¨‹ã€‚</p>
<p>åå¯¹è¿™ä¸€äº‹å®çš„äººå¾ˆå¤šã€‚â€ä¸â€,ä»–ä»¬å–Šé“,â€å¦‚æœæˆ‘æ­£åœ¨ç­‰å¾…æ‰‹æœ¯ï¼Œä¸€å®šæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨ç­‰å¾…ï¼å®ƒå¯èƒ½æ˜¯ä¸€ä¸ªçº¿ç¨‹æ± çº¿ç¨‹ã€‚æˆ–è€…æ“ä½œç³»ç»Ÿçº¿ç¨‹ï¼æˆ–è€…å¸¦æœ‰è®¾å¤‡é©±åŠ¨ç¨‹åºçš„ä¸œè¥¿â€¦â€¦â€</p>
<p>ä¸è¦ç†ä¼šé‚£äº›å“­å£°ã€‚å¦‚æœå¼‚æ­¥æ“ä½œæ˜¯çº¯ç²¹çš„ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰çº¿ç¨‹ã€‚</p>
        
          <p class="article-more-link">
            <a href="/2023/02/22/translation-there-is-no-thread/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://bingowith.me/2023/02/22/translation-there-is-no-thread/" data-id="cmhg2157f003rwwva29xsarur" data-title="[ç¿»è¯‘]æ²¡æœ‰çº¿ç¨‹" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BF%BB%E8%AF%91/" rel="tag">ç¿»è¯‘</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-high-performance-mysql-4th-ch01-note" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/11/08/high-performance-mysql-4th-ch01-note/" class="article-date">
  <time class="dt-published" datetime="2022-11-08T06:20:01.000Z" itemprop="datePublished">2022-11-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/11/08/high-performance-mysql-4th-ch01-note/">é«˜æ€§èƒ½MySQL(ç¬¬4ç‰ˆ) ç¬¬ä¸€ç«  MySQLæ¶æ„ è¯»ä¹¦ç¬”è®°</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>è¿™æœ¬ä¹¦å»å¹´11æœˆå‡ºçš„,ä»Šå¹´ä¸­æ–‡ç‰ˆä¹Ÿå‡ºäº†,å¹¶ä¸”ç›´æ¥ä¸Šäº†<a target="_blank" rel="noopener" href="https://weread.qq.com/web/bookDetail/00a32b70813ab746fg018ec7">å¾®ä¿¡è¯»ä¹¦</a>,ä¹‹åæœ‰ç©ºå°±è¯»ä¸€è¯»,åˆ†äº«ä¸‹è¯»ä¹¦ç¬”è®°~    </p>
<p>åŸæ–‡å†…å®¹æ¯”è¾ƒå……å®,å»ºè®®æœ‰æ—¶é—´å¯ä»¥è¯»ä¸€ä¸‹åŸæ–‡.<br>ç¬¬ä¸€ç« ä¸»è¦æ˜¯ä¸ªæ¦‚è§ˆ.</p>
<h1 id="MySQLçš„é€»è¾‘æ¶æ„"><a href="#MySQLçš„é€»è¾‘æ¶æ„" class="headerlink" title="MySQLçš„é€»è¾‘æ¶æ„"></a>MySQLçš„é€»è¾‘æ¶æ„</h1><p><img src="/images/hpm4_ch01_01.png"><br>é»˜è®¤æƒ…å†µä¸‹,æ¯ä¸ªå®¢æˆ·ç«¯è¿æ¥éƒ½ä¼šåœ¨æœåŠ¡å™¨è¿›ç¨‹ä¸­æ‹¥æœ‰ä¸€ä¸ªçº¿ç¨‹,è¯¥è¿æ¥çš„æŸ¥è¯¢åªä¼šåœ¨è¿™ä¸ªå•ç‹¬çš„çº¿ç¨‹ä¸­æ‰§è¡Œ,è¯¥çº¿ç¨‹é©»ç•™åœ¨ä¸€ä¸ªå†…æ ¸æˆ–è€…CPUä¸Š.<br>çº¿ç¨‹æ± </p>
<p>ä¼˜åŒ–å™¨ä¼šå‘å­˜å‚¨å¼•æ“è¯¢é—®å®ƒçš„ä¸€äº›åŠŸèƒ½ã€æŸä¸ªå…·ä½“æ“ä½œçš„æˆæœ¬,ä»¥åŠè¡¨æ•°æ®çš„ç»Ÿè®¡ä¿¡æ¯.</p>
<p>query cache 5.7.20å¼ƒç”¨ 8.0ç§»é™¤<br>è€ƒè™‘åº”ç”¨è‡ªå·±åœ¨redisä¸­ç¼“å­˜</p>
        
          <p class="article-more-link">
            <a href="/2022/11/08/high-performance-mysql-4th-ch01-note/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://bingowith.me/2022/11/08/high-performance-mysql-4th-ch01-note/" data-id="cmhg2156o001cwwva14f922ua" data-title="é«˜æ€§èƒ½MySQL(ç¬¬4ç‰ˆ) ç¬¬ä¸€ç«  MySQLæ¶æ„ è¯»ä¹¦ç¬”è®°" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-shardingsphere-jdbc-learn-note" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/11/05/shardingsphere-jdbc-learn-note/" class="article-date">
  <time class="dt-published" datetime="2022-11-05T07:43:10.000Z" itemprop="datePublished">2022-11-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/11/05/shardingsphere-jdbc-learn-note/">shardingsphere-jdbc æ°´å¹³åˆ†è¡¨å­¦ä¹ è®°å½•</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>å‰å¸ä½¿ç”¨çš„æ˜¯è‡ªå·±é­”æ”¹çš„<code>TDDL</code>,åœ¨å®¶æ—¶é—´æ¯”è¾ƒå¤šå°±å°è¯•å­¦ä¸€äº›ä¸šå†…æ¯”è¾ƒå¸¸ç”¨çš„ä¸­é—´ä»¶.  </p>
<p>è¿™é‡Œè®°å½•ä¸€ä¸‹å­¦ä¹ ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜.  </p>
<h1 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h1><p>è®¾ç½®çš„æ¯”è¾ƒç®€å•(å¤ªæ‡’äº†å°±æµ‹è¯•äº†å‡ ä¸ªè¡¨), ä¸¤ä¸ªåˆ†åº“, å„æœ‰å‡ å¼ åˆ†è¡¨.<br>sharding-test_0</p>
<ul>
<li>order_0 (order_id)</li>
<li>order_1 </li>
<li>order_item_0 (order_id)</li>
<li>order_item_1</li>
<li>user_0 (user_id)</li>
<li>user_1</li>
<li>address (ç”¨æ¥åšbroadcastè¡¨)</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `order_0` (</span><br><span class="line">  `order_id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `user_id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `address_id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`order_id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 <span class="keyword">COLLATE</span><span class="operator">=</span>utf8mb4_0900_ai_ci;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `order_item_0` (</span><br><span class="line">  `order_item_id` <span class="type">bigint</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `order_id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`order_item_id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 <span class="keyword">COLLATE</span><span class="operator">=</span>utf8mb4_0900_ai_ci;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `user_0` (</span><br><span class="line">  `user_id` <span class="type">bigint</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `user_name` <span class="type">varchar</span>(<span class="number">45</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`user_id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 <span class="keyword">COLLATE</span><span class="operator">=</span>utf8mb4_0900_ai_ci;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `address` (</span><br><span class="line">  `address_id` <span class="type">int</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  `address_name` <span class="type">varchar</span>(<span class="number">45</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`address_id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 <span class="keyword">COLLATE</span><span class="operator">=</span>utf8mb4_0900_ai_ci;</span><br></pre></td></tr></table></figure>

<p>spring-boot-starterä½¿ç”¨2.7.5<br>shardingsphere-jdbc-core-spring-boot-starterä½¿ç”¨5.2.1  </p>
<p>æµ‹è¯•çš„æ—¶å€™æœ€å¥½ç›´æ¥è·‘,ä¸è¦ç”¨å•æµ‹,ä¼šè¢«è‡ªåŠ¨å›æ»šæ‰.<br>å¯ä»¥å®šä¹‰å¤šä¸ª<code>ApplicationRunner</code>æ¥æµ‹è¯•.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyApplicationRunner</span> <span class="keyword">implements</span> <span class="title class_">ApplicationRunner</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">(<span class="keyword">final</span> ApplicationArguments args)</span> <span class="keyword">throws</span> Exception &#123;</span><br></pre></td></tr></table></figure>

<p>ç”¨<code>JdbcTemplate</code>æ–¹ä¾¿ç‚¹ä¹Ÿçœå»äº†ä¾èµ–æ›´å¤šçš„ä¸œè¥¿.<br>è¿”å›è‡ªå¢keyçš„ä»£ç æ ·ä¾‹:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">KeyHolder</span> <span class="variable">keyHolder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">GeneratedKeyHolder</span>();</span><br><span class="line">jdbcTemplate.update(connection -&gt; &#123;</span><br><span class="line">    <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> connection.prepareStatement(<span class="string">&quot;insert into user(`user_name`) values (?)&quot;</span>,</span><br><span class="line">            Statement.RETURN_GENERATED_KEYS);</span><br><span class="line">    ps.setString(<span class="number">1</span>, <span class="string">&quot;cc2&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> ps;</span><br><span class="line">&#125;, keyHolder);</span><br><span class="line">System.out.println(<span class="string">&quot;key:&quot;</span> + keyHolder.getKey());</span><br></pre></td></tr></table></figure>


<h1 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h1><p>æœ¬æ¥ä½¿ç”¨yamlçš„é…ç½®,ä½†çœ‹äº†ä¸€ä¸‹æœ‰ç‚¹å¤ªä¹±,å…ˆç”¨propertiesçš„ä»£æ›¿.<br>é…çš„æ—¶å€™æœ‰æ¯”è¾ƒå¤šçš„é—®é¢˜,å‡ ä¸ªé…ç½®é”™è¯¯ä¼šå¯¼è‡´æ²¡æ³•å¯åŠ¨æˆ–è€…æµ‹è¯•æ—¶æŠ¥é”™,ä½†é…å®Œä¹‹åæ„Ÿè§‰æ•´ä½“é€»è¾‘è¿˜æ˜¯æ¯”è¾ƒæ¸…æ™°çš„.  </p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.shardingsphere.mode.type</span>=<span class="string">Standalone</span></span><br><span class="line"><span class="attr">spring.shardingsphere.props.sql-show</span>=<span class="string">true</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># logic datasource</span></span><br><span class="line"><span class="attr">spring.shardingsphere.datasource.names</span>=<span class="string">shard00,shard01</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># real datasource</span></span><br><span class="line"><span class="attr">spring.shardingsphere.datasource.shard00.type</span>=<span class="string">com.zaxxer.hikari.HikariDataSource</span></span><br><span class="line"><span class="attr">spring.shardingsphere.datasource.shard00.driver-class-name</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">spring.shardingsphere.datasource.shard00.jdbc-url</span>=<span class="string">jdbc:mysql://localhost:3306/sharding_test_0</span></span><br><span class="line"><span class="attr">spring.shardingsphere.datasource.shard00.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">spring.shardingsphere.datasource.shard00.password</span>=<span class="string"></span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring.shardingsphere.datasource.shard01.type</span>=<span class="string">com.zaxxer.hikari.HikariDataSource</span></span><br><span class="line"><span class="attr">spring.shardingsphere.datasource.shard01.driver-class-name</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">spring.shardingsphere.datasource.shard01.jdbc-url</span>=<span class="string">jdbc:mysql://localhost:3306/sharding_test_1</span></span><br><span class="line"><span class="attr">spring.shardingsphere.datasource.shard01.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">spring.shardingsphere.datasource.shard01.password</span>=<span class="string"></span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.user.actual-data-nodes</span>=<span class="string">\</span></span><br><span class="line"><span class="string">  shard0$-&gt;&#123;0..1&#125;.user_$-&gt;&#123;0..1&#125;</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order_item.actual-data-nodes</span>=<span class="string">\</span></span><br><span class="line"><span class="string">  shard0$-&gt;&#123;0..1&#125;.order_item_$-&gt;&#123;0..1&#125;</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order.actual-data-nodes</span>=<span class="string">\</span></span><br><span class="line"><span class="string">  shard0$-&gt;&#123;0..1&#125;.order_$-&gt;&#123;0..1&#125;</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.address.actual-data-nodes</span>=<span class="string">\</span></span><br><span class="line"><span class="string">  shard0$-&gt;&#123;0..1&#125;.address</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># database strategy and table strategy</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.user.database-strategy.standard.sharding-column</span>=<span class="string">user_id</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.user.database-strategy.standard.sharding-algorithm-name</span>=<span class="string">alg_db_user</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.sharding-algorithms.alg_db_user.type</span>=<span class="string">MOD</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.sharding-algorithms.alg_db_user.props.sharding-count</span>=<span class="string">2</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.user.table-strategy.standard.sharding-column</span>=<span class="string">user_id</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.user.table-strategy.standard.sharding-algorithm-name</span>=<span class="string">alg_table_user</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.sharding-algorithms.alg_table_user.type</span>=<span class="string">HASH_MOD</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.sharding-algorithms.alg_table_user.props.sharding-count</span>=<span class="string">2</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order.database-strategy.standard.sharding-column</span>=<span class="string">order_id</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order.database-strategy.standard.sharding-algorithm-name</span>=<span class="string">alg_db_order</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.sharding-algorithms.alg_db_order.type</span>=<span class="string">MOD</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.sharding-algorithms.alg_db_order.props.sharding-count</span>=<span class="string">2</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order.table-strategy.standard.sharding-column</span>=<span class="string">order_id</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order.table-strategy.standard.sharding-algorithm-name</span>=<span class="string">alg_table_order</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.sharding-algorithms.alg_table_order.type</span>=<span class="string">HASH_MOD</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.sharding-algorithms.alg_table_order.props.sharding-count</span>=<span class="string">2</span></span><br><span class="line"><span class="comment"># order_item and order use the same strategy</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order_item.database-strategy.standard.sharding-column</span>=<span class="string">order_id</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order_item.database-strategy.standard.sharding-algorithm-name</span>=<span class="string">alg_db_order</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order_item.table-strategy.standard.sharding-column</span>=<span class="string">order_id</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order_item.table-strategy.standard.sharding-algorithm-name</span>=<span class="string">alg_table_order</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># key generator</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.user.key-generate-strategy.column</span>=<span class="string">user_id</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.user.key-generate-strategy.key-generator-name</span>=<span class="string">alg_snowflake</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order.key-generate-strategy.column</span>=<span class="string">order_id</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order.key-generate-strategy.key-generator-name</span>=<span class="string">alg_snowflake</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order_item.key-generate-strategy.column</span>=<span class="string">order_item_id</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.tables.order_item.key-generate-strategy.key-generator-name</span>=<span class="string">alg_snowflake</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># key generator algorithm</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.key-generators.alg_snowflake.type</span>=<span class="string">SNOWFLAKE</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.key-generators.alg_uuid.type</span>=<span class="string">UUID</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># binding table and broadcast table</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.binding-tables[0]</span>=<span class="string">order,order_item</span></span><br><span class="line"><span class="attr">spring.shardingsphere.rules.sharding.broadcast-tables</span>=<span class="string">address</span></span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå°±åˆ†ä¸ºé€»è¾‘datasourceå®šä¹‰, çœŸå®çš„datasourceå®šä¹‰.<br>å¯¹äºæ¯ä¸ªé€»è¾‘è¡¨,å®šä¹‰åˆ†åº“åˆ†è¡¨è§„åˆ™,å¦‚æœéœ€è¦ç”Ÿæˆåˆ†å¸ƒå¼key,å®šä¹‰keyçš„ç”Ÿæˆç®—æ³•.<br>åˆ†åˆ«å¯¹åº”<code>spring.shardingsphere.datasource.</code>å‰ç¼€å’Œ<code>spring.shardingsphere.rules.sharding</code>å‰ç¼€.</p>
<p>å¯¹äºSNOWFLAKEè¦æ³¨æ„æ•°æ®åº“çš„å­—æ®µç±»å‹è¦bigint,intä¸å¤Ÿæ”¾.</p>
<h1 id="å¯åŠ¨æŠ¥é”™"><a href="#å¯åŠ¨æŠ¥é”™" class="headerlink" title="å¯åŠ¨æŠ¥é”™"></a>å¯åŠ¨æŠ¥é”™</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">***************************</span><br><span class="line">APPLICATION FAILED TO START</span><br><span class="line">***************************</span><br><span class="line"></span><br><span class="line">Description:</span><br><span class="line"></span><br><span class="line">An attempt was made to call a method that does not exist. The attempt was made from the following location:</span><br><span class="line"></span><br><span class="line">    org.apache.shardingsphere.infra.util.yaml.constructor.ShardingSphereYamlConstructor$1.&lt;init&gt;(ShardingSphereYamlConstructor.java:44)</span><br><span class="line"></span><br><span class="line">The following method did not exist:</span><br><span class="line"></span><br><span class="line">    &#x27;void org.apache.shardingsphere.infra.util.yaml.constructor.ShardingSphereYamlConstructor$1.setCodePointLimit(int)&#x27;</span><br><span class="line"></span><br><span class="line">The calling methods class, org.apache.shardingsphere.infra.util.yaml.constructor.ShardingSphereYamlConstructor$1, was loaded from the following location:</span><br><span class="line"></span><br><span class="line">    jar:file:/.m2/repository/org/apache/shardingsphere/shardingsphere-infra-util/5.2.1/shardingsphere-infra-util-5.2.1.jar!/org/apache/shardingsphere/infra/util/yaml/constructor/ShardingSphereYamlConstructor$1.class</span><br><span class="line"></span><br><span class="line">The called methods class, org.apache.shardingsphere.infra.util.yaml.constructor.ShardingSphereYamlConstructor$1, is available from the following locations:</span><br><span class="line"></span><br><span class="line">    jar:file:/.m2/repository/org/apache/shardingsphere/shardingsphere-infra-util/5.2.1/shardingsphere-infra-util-5.2.1.jar!/org/apache/shardingsphere/infra/util/yaml/constructor/ShardingSphereYamlConstructor$1.class</span><br><span class="line"></span><br><span class="line">The called methods class hierarchy was loaded from the following locations:</span><br><span class="line"></span><br><span class="line">    null: file:/.m2/repository/org/apache/shardingsphere/shardingsphere-infra-util/5.2.1/shardingsphere-infra-util-5.2.1.jar</span><br><span class="line">    org.yaml.snakeyaml.LoaderOptions: file:/.m2/repository/org/yaml/snakeyaml/1.30/snakeyaml-1.30.jar</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Action:</span><br><span class="line"></span><br><span class="line">Correct the classpath of your application so that it contains a single, compatible version of org.apache.shardingsphere.infra.util.yaml.constructor.ShardingSphereYamlConstructor$1</span><br></pre></td></tr></table></figure>

<p>å¾ˆæ˜æ˜¾çš„ä¸€ä¸ªä»¥æ¥å†²çªé—®é¢˜, ä¸»è¦æ˜¯è¿™è¡Œä»£ç :</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">ShardingSphereYamlConstructor</span><span class="params">(<span class="keyword">final</span> Class&lt;?&gt; rootClass)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>(rootClass, <span class="keyword">new</span> <span class="title class_">LoaderOptions</span>() &#123;</span><br><span class="line">        </span><br><span class="line">        &#123;</span><br><span class="line">            setCodePointLimit(Integer.MAX_VALUE);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    ShardingSphereYamlConstructFactory.getInstances().forEach(each -&gt; typeConstructs.put(each.getType(), each));</span><br><span class="line">    ShardingSphereYamlShortcutsFactory.getAllYamlShortcuts().forEach((key, value) -&gt; addTypeDescription(<span class="keyword">new</span> <span class="title class_">TypeDescription</span>(value, key)));</span><br><span class="line">    <span class="built_in">this</span>.rootClass = rootClass;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>snakeyamlçš„ç‰ˆæœ¬å†²çª,ä½¿ç”¨çš„ç‰ˆæœ¬ä¸­<code>LoaderOptions</code>æ²¡æœ‰<code>setCodePointLimit</code>è¿™ä¸ªæ–¹æ³•.<br>ä½¿ç”¨çš„springbootçš„ä¾èµ–çš„æ˜¯<code>1.30.0</code>,æ˜¾å¼ä¾èµ–<code>1.33.0</code>å³å¯.  </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.yaml<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>snakeyaml<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.33<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line"># é…ç½®é”™è¯¯å¯¼è‡´çš„æŠ¥é”™  </span><br><span class="line">è¿™ç±»æŠ¥é”™ç§ç±»æ¯”è¾ƒå¤š  </span><br><span class="line">æ¯”å¦‚  </span><br><span class="line">* `DataNodesMissedWithShardingTableException`</span><br><span class="line">* `ShardingRuleNotFoundException`  </span><br><span class="line">* `InconsistentShardingTableMetaDataException`  </span><br><span class="line"></span><br><span class="line">ç­‰ç­‰, å¯åŠ¨å°±ä¼šå¤±è´¥, å› ä¸ºæ˜¯è¯»å–äº†é…ç½®è§£æå¼‚å¸¸.  </span><br><span class="line"></span><br><span class="line">è¿™ç§å°±è¦çœ‹çœ‹å¯¹åº”çš„é”™è¯¯å’Œé…ç½®.  </span><br><span class="line"></span><br><span class="line">ä¸è¿‡æœ‰ç‚¹å¥‡æ€ªçš„æ˜¯ä¸€äº›é”™è¯¯æ²¡æœ‰æ‰“å‡ºè¯¦ç»†çš„æŠ¥é”™ä¿¡æ¯.æ¯”å¦‚:</span><br></pre></td></tr></table></figure>
<p>Caused by: org.apache.shardingsphere.sharding.exception.metadata.DataNodesMissedWithShardingTableException: null<br>    at org.apache.shardingsphere.sharding.rule.TableRule.lambda$checkRule$4(TableRule.java:246) ~[shardingsphere-sharding-core-5.2.1.jar:5.2.1]<br>    at org.apache.shardingsphere.infra.util.exception.ShardingSpherePreconditions.checkState(ShardingSpherePreconditions.java:41) ~[shardingsphere-infra-util-5.2.1.jar:5.2.1]<br>    at org.apache.shardingsphere.sharding.rule.TableRule.checkRule(TableRule.java:245) ~[shardingsphere-sharding-core-5.2.1.jar:5.2.1]</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">çœ‹äº†ä¸‹æ˜¯åŸºç±»æ²¡è°ƒç”¨super,å¯¼è‡´messageæ²¡æœ‰å€¼.çœ‹äº†ä¸‹è¿™ä¸ªå·²ç»åœ¨masteråˆ†æ”¯ä¿®å¥½äº†:</span><br><span class="line">```java</span><br><span class="line">    public ShardingSphereSQLException(final SQLState sqlState, final int typeOffset, final int errorCode, final String reason, final Object... messageArguments) &#123;</span><br><span class="line">        this(sqlState.getValue(), typeOffset, errorCode, reason, messageArguments);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    public ShardingSphereSQLException(final String sqlState, final int typeOffset, final int errorCode, final String reason, final Object... messageArguments) &#123;</span><br><span class="line">        this.sqlState = sqlState;</span><br><span class="line">        vendorCode = typeOffset * 10000 + errorCode;</span><br><span class="line">        this.reason = null == reason ? null : String.format(reason, messageArguments);</span><br><span class="line">        // missing super(resaon) here</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h1 id="æ•°æ®åº“è‡ªåŠ¨ç”Ÿæˆçš„keyä¸èƒ½ä½œä¸ºroute-key"><a href="#æ•°æ®åº“è‡ªåŠ¨ç”Ÿæˆçš„keyä¸èƒ½ä½œä¸ºroute-key" class="headerlink" title="æ•°æ®åº“è‡ªåŠ¨ç”Ÿæˆçš„keyä¸èƒ½ä½œä¸ºroute key"></a>æ•°æ®åº“è‡ªåŠ¨ç”Ÿæˆçš„keyä¸èƒ½ä½œä¸ºroute key</h1><p>ä½†æ˜¯åˆ†å¸ƒå¼ç”Ÿæˆçš„keyå¯ä»¥, è¿™ä¸ªåœ¨FAQé‡Œæœ‰, æœ‰è¿™ä¸ªé”™è¯¯æ˜¯åˆšå¼€å§‹é…åˆ†å¸ƒå¼keyçš„æ—¶å€™é…é”™äº†.</p>
<p><a target="_blank" rel="noopener" href="https://shardingsphere.apache.org/document/current/cn/faq/">åŸæ–‡:</a></p>
<blockquote>
<p>[åˆ†ç‰‡] ShardingSphere é™¤äº†æ”¯æŒè‡ªå¸¦çš„åˆ†å¸ƒå¼è‡ªå¢ä¸»é”®ä¹‹å¤–ï¼Œè¿˜èƒ½å¦æ”¯æŒåŸç”Ÿçš„è‡ªå¢ä¸»é”®ï¼Ÿ<br>å›ç­”ï¼š</p>
<p>æ˜¯çš„ï¼Œå¯ä»¥æ”¯æŒã€‚ä½†åŸç”Ÿè‡ªå¢ä¸»é”®æœ‰ä½¿ç”¨é™åˆ¶ï¼Œå³ä¸èƒ½å°†åŸç”Ÿè‡ªå¢ä¸»é”®åŒæ—¶ä½œä¸ºåˆ†ç‰‡é”®ä½¿ç”¨ã€‚ ç”±äº ShardingSphere å¹¶ä¸çŸ¥æ™“æ•°æ®åº“çš„è¡¨ç»“æ„ï¼Œè€ŒåŸç”Ÿè‡ªå¢ä¸»é”®æ˜¯ä¸åŒ…å«åœ¨åŸå§‹ SQL ä¸­å†…çš„ï¼Œå› æ­¤ ShardingSphere æ— æ³•å°†è¯¥å­—æ®µè§£æä¸ºåˆ†ç‰‡å­—æ®µã€‚å¦‚è‡ªå¢ä¸»é”®éåˆ†ç‰‡é”®ï¼Œåˆ™æ— éœ€å…³æ³¨ï¼Œå¯æ­£å¸¸è¿”å›ï¼›è‹¥è‡ªå¢ä¸»é”®åŒæ—¶ä½œä¸ºåˆ†ç‰‡é”®ä½¿ç”¨ï¼ŒShardingSphere æ— æ³•è§£æå…¶åˆ†ç‰‡å€¼ï¼Œå¯¼è‡´ SQL è·¯ç”±è‡³å¤šå¼ è¡¨ï¼Œä»è€Œå½±å“åº”ç”¨çš„æ­£ç¡®æ€§ã€‚ è€ŒåŸç”Ÿè‡ªå¢ä¸»é”®è¿”å›çš„å‰ææ¡ä»¶æ˜¯ INSERT SQL å¿…é¡»æœ€ç»ˆè·¯ç”±è‡³ä¸€å¼ è¡¨ï¼Œå› æ­¤ï¼Œé¢å¯¹è¿”å›å¤šè¡¨çš„ INSERT SQLï¼Œè‡ªå¢ä¸»é”®åˆ™ä¼šè¿”å›é›¶ã€‚</p>
</blockquote>
<h1 id="åˆ†è¡¨åˆ†åº“çš„è§„åˆ™æ€è€ƒ"><a href="#åˆ†è¡¨åˆ†åº“çš„è§„åˆ™æ€è€ƒ" class="headerlink" title="åˆ†è¡¨åˆ†åº“çš„è§„åˆ™æ€è€ƒ"></a>åˆ†è¡¨åˆ†åº“çš„è§„åˆ™æ€è€ƒ</h1><p>æœ€å¼€å§‹çš„æ—¶å€™å¯¹äºåˆ†åº“åˆ†è¡¨æ— è„‘ä¸¤ä¸ªéƒ½ç”¨äº†MOD, ä½†å› ä¸ºåˆ†åŒºæ•°å’Œåˆ†è¡¨æ•°æ˜¯ä¸€æ ·çš„(éƒ½æ˜¯2).<br>æ‰€ä»¥mod 2æ•°æ®çš„åˆ†å¸ƒä¹Ÿæ˜¯ä¸€æ ·çš„,è¿™å°±å¯¼è‡´äº†<code>sharding_test_0</code>çš„<code>user_1</code>æ˜¯æ²¡æœ‰æ•°æ®çš„,<code>sharding_test_1</code>çš„<code>user_0</code>ä¹Ÿæ˜¯æ²¡æœ‰æ•°æ®çš„.<br>åˆ†è¡¨äº†ä¸ªå¯‚å¯.  </p>
<p>ä¸åªæ˜¯ä¸€æ ·,å…¶å®åªè¦åˆ†åº“å’Œåˆ†è¡¨æ•°æœ€å¤§å…¬çº¦æ•°ä¸ä¸º1å¦‚æœæ— è„‘MODéƒ½ä¼šæœ‰å€¾æ–œçš„é—®é¢˜.<br>å¯ä»¥ä»£ç éªŒè¯ä¸‹:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">dbShard</span> <span class="operator">=</span> <span class="number">6</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">tableShard</span> <span class="operator">=</span> <span class="number">32</span>;</span><br><span class="line"></span><br><span class="line">Map&lt;Tuple2&lt;Integer, Integer&gt;, Integer&gt; count = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; dbShard; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; tableShard; j++) &#123;</span><br><span class="line">        count.put(Tuple.tuple(i, j), <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100000</span>; i++) &#123;</span><br><span class="line">    count.computeIfPresent(Tuple.tuple(i % dbShard, i % tableShard), (k, v) -&gt; v + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">count.forEach((k,v) -&gt; &#123;</span><br><span class="line">    System.out.println(k + <span class="string">&quot;:&quot;</span> + v);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºå‰å¸æˆ‘ç»æ‰‹çš„é¡¹ç›®ç”¨çš„éƒ½æ˜¯åˆ†è¡¨,è¿˜æ²¡æœ‰åˆ°åˆ†åº“,æ²¡æœ‰æ„è¯†åˆ°è¿™ä¸ªé—®é¢˜,ä¹Ÿç®—æ˜¯ä¸€ç‚¹ç‚¹å°ç»éªŒå§,è¦è€ƒè™‘ä¸‹åˆ†åº“åˆ†è¡¨çš„è§„åˆ™ç»„åˆä¼šä¸ä¼šå¯¼è‡´æ•°æ®å€¾æ–œ.</p>
<p>å…¶ä»–è¿˜æœ‰äº›å®è·µä¸­çš„é—®é¢˜,å½“æ—¶æ²¡æœ‰è®°å½•æŠŠé…ç½®æ•´å¯¹ä¹‹åä¹Ÿä¸çŸ¥é“æ€ä¹ˆå¤ç°äº†.<br>ä¸å¾—ä¸è¯´shardingsphere-jdbcçš„æ˜“ç”¨æ€§æ˜¯éå¸¸é«˜äº†,é€šä¿—æ˜“æ‡‚.</p>
<h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p>shardingsphereå®˜ç½‘: <a target="_blank" rel="noopener" href="https://shardingsphere.apache.org/">https://shardingsphere.apache.org</a><br>shardingsphere-jdbcé…ç½®: <a target="_blank" rel="noopener" href="https://shardingsphere.apache.org/document/current/cn/user-manual/shardingsphere-jdbc/yaml-config/">https://shardingsphere.apache.org/document/current/cn/user-manual/shardingsphere-jdbc/yaml-config/</a><br>shardingsphere FAQ: <a target="_blank" rel="noopener" href="https://shardingsphere.apache.org/document/current/cn/faq/">https://shardingsphere.apache.org/document/current/cn/faq/</a><br><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/14537546/how-to-get-generated-id-after-i-inserted-into-a-new-data-record-in-database-usin">How to get generated ID after I inserted into a new data record in database using Spring JDBCTemplate?</a>    </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://bingowith.me/2022/11/05/shardingsphere-jdbc-learn-note/" data-id="cmhg215780033wwva7ydwhm2i" data-title="shardingsphere-jdbc æ°´å¹³åˆ†è¡¨å­¦ä¹ è®°å½•" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/" rel="tag">java</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-translation-the-problem-with-shared-mutability" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/10/26/translation-the-problem-with-shared-mutability/" class="article-date">
  <time class="dt-published" datetime="2022-10-26T04:12:00.000Z" itemprop="datePublished">2022-10-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/10/26/translation-the-problem-with-shared-mutability/">[ç¿»è¯‘]å•çº¿ç¨‹å…±äº«å¯å˜æ€§çš„é—®é¢˜</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>åŸæ–‡é“¾æ¥: <a target="_blank" rel="noopener" href="https://manishearth.github.io/blog/2015/05/17/the-problem-with-shared-mutability/">https://manishearth.github.io/blog/2015/05/17/the-problem-with-shared-mutability/</a><br>ä½œè€…: <a target="_blank" rel="noopener" href="https://manishearth.github.io/">Manish Goregaokar</a><br>ç¿»è¯‘ by <a href="https://bingowith.me/">abaabaqua</a></p>
<p><strong>æ³¨</strong>: è¿™ç¯‡æ–‡ç« å†™çš„æ¯”è¾ƒæ—©,æ—©æœŸçš„Rustç¼–è¯‘å™¨æœ‰å¾ˆå¤šä¸å‹å–„çš„åœ°æ–¹,ä»£ç ç¤ºä¾‹ä¸­éƒ¨åˆ†å½“æ—¶æ— æ³•ç¼–è¯‘çš„ç°åœ¨å·²ç»å¯ä»¥äº†,è¯‘è€…ä¼šå¢æ”¹ä¸€äº›ä»£ç å¯¼è‡´å’ŒåŸæ–‡ä¸åŒ.</p>
<hr>
<p>Edit(2017å¹´1æœˆ):æˆ‘é‡æ–°å‘ç°äº†<a target="_blank" rel="noopener" href="http://smallcultfollowing.com/babysteps/blog/2013/06/11/on-the-connection-between-memory-management-and-data-race-freedom/">Nikoçš„æ–‡ç« </a>,æ–‡ç« ä¹Ÿæåˆ°äº†è¿™ä¸€ç‚¹å¹¶è¾¾åˆ°äº†åŒæ ·çš„è®¤è¯†.æˆ‘æ€€ç–‘æˆ‘ä¸‹æ„è¯†åœ°ä»è¿™ç¯‡æ–‡ç« ä¸­å¾—åˆ°äº†è¿™ä¸ªæƒ³æ³•,è‡³å°‘æ˜¯éƒ¨åˆ†çš„æƒ³æ³•.</p>
<p>è¿™æ˜¯æˆ‘ä¸€ç›´æƒ³å†™çš„ä¸€ç¯‡æ–‡ç« ;Rust 1.0çš„å‘å¸ƒç»™äº†æˆ‘ç»§ç»­æ¥ä¸‹å»çš„å®Œç¾åŠ¨åŠ›.</p>
<p>è™½ç„¶è¿™ç¯‡æ–‡ç« æ˜¯è®¨è®ºRustè®¾è®¡ä¸­çš„ä¸€ä¸ªé€‰æ‹©,å¹¶ä¸”ä¾‹å­éƒ½æ˜¯ç”¨Rustå†™çš„,ä½†è¿™é‡Œè®¨è®ºçš„åŸåˆ™åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šé€‚ç”¨äºå…¶å®ƒè¯­è¨€.æˆ‘è¿˜å°†å°è¯•è®©é‚£äº›æ²¡æœ‰RustèƒŒæ™¯çš„äººæ›´å®¹æ˜“ç†è§£è¿™ç¯‡æ–‡ç« ;å¦‚æœéœ€è¦è§£é‡Šä¸€äº›ä»£ç æˆ–æœ¯è¯­,è¯·å‘Šè¯‰æˆ‘.</p>
<p>æˆ‘å°†åœ¨è¿™é‡Œè®¨è®ºçš„æ˜¯Ruståšçš„ä¸€ä¸ªé€‰æ‹©,ä¸å…è®¸åŒä¸€æ•°æ®æœ‰å¤šä¸ªå¯å˜åˆ«å(æˆ–è€…å½“æœ‰activeçš„ä¸å¯å˜åˆ«åæ—¶åªèƒ½æœ‰ä¸€ä¸ªå¯å˜åˆ«å) ï¼Œå³ä½¿æ˜¯åœ¨åŒä¸€ä¸ªçº¿ç¨‹.æœ¬è´¨ä¸Šè®²,å®ƒä¸å…è®¸åšè¿™æ ·çš„äº‹æƒ…:</p>
<figure class="highlight rust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">x</span> = <span class="type">Vec</span>::<span class="title function_ invoke__">new</span>();</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">ptr</span> = &amp;<span class="keyword">mut</span> x; <span class="comment">// è·å–é˜Ÿ`x`çš„å¯å˜å¼•ç”¨</span></span><br><span class="line">    ptr.<span class="title function_ invoke__">push</span>(<span class="number">1</span>); <span class="comment">// å…è®¸</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">y</span> = x[<span class="number">0</span>]; <span class="comment">// ä¸å…è®¸ (æ— æ³•ç¼–è¯‘): åªè¦`ptr`æ˜¯activeçš„,</span></span><br><span class="line">                  <span class="comment">// xä¸èƒ½è¯»å– ...</span></span><br><span class="line">    x.<span class="title function_ invoke__">push</span>(<span class="number">1</span>);    <span class="comment">// .. ä¹Ÿä¸èƒ½å†™å…¥</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, ptr); <span class="comment">// è¿™æ®µæ˜¯è¯‘è€…æ–°åŠ  ç°åœ¨çš„ç¼–è¯‘å™¨é™åˆ¶åˆ¤æ–­æ˜¯å¦activeæ›´åŠ æ™ºèƒ½ ä¸æ˜¯çœ‹æ•´ä¸ªä½œç”¨åŸŸäº†</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦å¤–ä¸€ç§,</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">x</span> = <span class="type">Vec</span>::<span class="title function_ invoke__">new</span>();</span><br><span class="line">x.<span class="title function_ invoke__">push</span>(<span class="number">1</span>); <span class="comment">// å…è®¸</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">ptr</span> = &amp;x; <span class="comment">// åˆ›å»ºä¸€ä¸ªä¸å¯å˜å¼•ç”¨</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">y</span> = ptr[<span class="number">0</span>]; <span class="comment">// å…è®¸, ä¸æ”¹å˜å€¼</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">y</span> = x[<span class="number">0</span>]; <span class="comment">// åŒæ ·å…è®¸</span></span><br><span class="line">    x.<span class="title function_ invoke__">push</span>(<span class="number">1</span>); <span class="comment">// ä¸å…è®¸ (æ— æ³•ç¼–è¯‘): åªè¦`ptr`æ˜¯active,</span></span><br><span class="line">               <span class="comment">// `x`è¢«å†»ç»“äº†å¯å˜æ€§</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;:?&#125;&quot;</span>, ptr); <span class="comment">// è¯‘è€…æ–°åŠ  åŸå› ä¸€æ ·</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        
          <p class="article-more-link">
            <a href="/2022/10/26/translation-the-problem-with-shared-mutability/#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://bingowith.me/2022/10/26/translation-the-problem-with-shared-mutability/" data-id="cmhg2157v006twwva2tqng4kd" data-title="[ç¿»è¯‘]å•çº¿ç¨‹å…±äº«å¯å˜æ€§çš„é—®é¢˜" class="article-share-link"><span class="fa fa-share">åˆ†äº«</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/rust/" rel="tag">rust</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BF%BB%E8%AF%91/" rel="tag">ç¿»è¯‘</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/2/">&laquo; ä¸Šä¸€é¡µ</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/4/">ä¸‹ä¸€é¡µ &raquo;</a>
  </nav>

</section>
        
      </div>
      <footer id="footer">
  
    <aside id="sidebar" class="outer">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ASP-NET/" rel="tag">ASP.NET</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CDN/" rel="tag">CDN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSR/" rel="tag">CSR</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cache-Components/" rel="tag">Cache Components</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GPT/" rel="tag">GPT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GPU/" rel="tag">GPU</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/H2/" rel="tag">H2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JOOQ/" rel="tag">JOOQ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Next-js/" rel="tag">Next.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Next-js-16/" rel="tag">Next.js 16</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OS/" rel="tag">OS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RSC/" rel="tag">RSC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/" rel="tag">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SPA/" rel="tag">SPA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSE/" rel="tag">SSE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web-Development/" rel="tag">Web Development</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/auth-js/" rel="tag">auth.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aws/" rel="tag">aws</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/azure/" rel="tag">azure</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blazor/" rel="tag">blazor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/claude/" rel="tag">claude</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cloudflare/" rel="tag">cloudflare</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker-compose/" rel="tag">docker compose</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dotnet/" rel="tag">dotnet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/drizzle/" rel="tag">drizzle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/expo-router/" rel="tag">expo router</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/filerobot-image-editor/" rel="tag">filerobot-image-editor</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/" rel="tag">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/" rel="tag">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/" rel="tag">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/life/" rel="tag">life</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/llm/" rel="tag">llm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maui/" rel="tag">maui</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mybatis/" rel="tag">mybatis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/" rel="tag">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysqldump/" rel="tag">mysqldump</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nextjs/" rel="tag">nextjs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/" rel="tag">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/" rel="tag">nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openai/" rel="tag">openai</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/playwright/" rel="tag">playwright</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/" rel="tag">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react-native/" rel="tag">react native</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/remix/" rel="tag">remix</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/route53/" rel="tag">route53</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rust/" rel="tag">rust</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/" rel="tag">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shopify/" rel="tag">shopify</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shopify-CLI/" rel="tag">shopify CLI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-boot/" rel="tag">spring boot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/timestamp/" rel="tag">timestamp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/timezone/" rel="tag">timezone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/troubleshooting/" rel="tag">troubleshooting</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BF%BB%E8%AF%91/" rel="tag">ç¿»è¯‘</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾äº‘</h3>
    <div class="widget tagcloud">
      <a href="/tags/ASP-NET/" style="font-size: 10px;">ASP.NET</a> <a href="/tags/C/" style="font-size: 10px;">C#</a> <a href="/tags/CDN/" style="font-size: 10px;">CDN</a> <a href="/tags/CSR/" style="font-size: 10px;">CSR</a> <a href="/tags/Cache-Components/" style="font-size: 10px;">Cache Components</a> <a href="/tags/GPT/" style="font-size: 10px;">GPT</a> <a href="/tags/GPU/" style="font-size: 10px;">GPU</a> <a href="/tags/H2/" style="font-size: 10px;">H2</a> <a href="/tags/JOOQ/" style="font-size: 10px;">JOOQ</a> <a href="/tags/MySQL/" style="font-size: 14px;">MySQL</a> <a href="/tags/Next-js/" style="font-size: 10px;">Next.js</a> <a href="/tags/Next-js-16/" style="font-size: 10px;">Next.js 16</a> <a href="/tags/OS/" style="font-size: 10px;">OS</a> <a href="/tags/RSC/" style="font-size: 10px;">RSC</a> <a href="/tags/React/" style="font-size: 10px;">React</a> <a href="/tags/SPA/" style="font-size: 10px;">SPA</a> <a href="/tags/SSE/" style="font-size: 10px;">SSE</a> <a href="/tags/Web-Development/" style="font-size: 10px;">Web Development</a> <a href="/tags/auth-js/" style="font-size: 10px;">auth.js</a> <a href="/tags/aws/" style="font-size: 12px;">aws</a> <a href="/tags/azure/" style="font-size: 12px;">azure</a> <a href="/tags/blazor/" style="font-size: 10px;">blazor</a> <a href="/tags/claude/" style="font-size: 10px;">claude</a> <a href="/tags/cloudflare/" style="font-size: 10px;">cloudflare</a> <a href="/tags/docker/" style="font-size: 14px;">docker</a> <a href="/tags/docker-compose/" style="font-size: 10px;">docker compose</a> <a href="/tags/dotnet/" style="font-size: 10px;">dotnet</a> <a href="/tags/drizzle/" style="font-size: 12px;">drizzle</a> <a href="/tags/expo-router/" style="font-size: 10px;">expo router</a> <a href="/tags/filerobot-image-editor/" style="font-size: 10px;">filerobot-image-editor</a> <a href="/tags/java/" style="font-size: 20px;">java</a> <a href="/tags/javascript/" style="font-size: 12px;">javascript</a> <a href="/tags/js/" style="font-size: 10px;">js</a> <a href="/tags/life/" style="font-size: 12px;">life</a> <a href="/tags/linux/" style="font-size: 10px;">linux</a> <a href="/tags/llm/" style="font-size: 10px;">llm</a> <a href="/tags/maui/" style="font-size: 10px;">maui</a> <a href="/tags/mybatis/" style="font-size: 10px;">mybatis</a> <a href="/tags/mysql/" style="font-size: 14px;">mysql</a> <a href="/tags/mysqldump/" style="font-size: 10px;">mysqldump</a> <a href="/tags/nextjs/" style="font-size: 16px;">nextjs</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/nodejs/" style="font-size: 12px;">nodejs</a> <a href="/tags/openai/" style="font-size: 12px;">openai</a> <a href="/tags/playwright/" style="font-size: 10px;">playwright</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/react/" style="font-size: 10px;">react</a> <a href="/tags/react-native/" style="font-size: 10px;">react native</a> <a href="/tags/remix/" style="font-size: 10px;">remix</a> <a href="/tags/route53/" style="font-size: 10px;">route53</a> <a href="/tags/rust/" style="font-size: 18px;">rust</a> <a href="/tags/shell/" style="font-size: 10px;">shell</a> <a href="/tags/shopify/" style="font-size: 14px;">shopify</a> <a href="/tags/shopify-CLI/" style="font-size: 10px;">shopify CLI</a> <a href="/tags/spring-boot/" style="font-size: 12px;">spring boot</a> <a href="/tags/timestamp/" style="font-size: 10px;">timestamp</a> <a href="/tags/timezone/" style="font-size: 10px;">timezone</a> <a href="/tags/troubleshooting/" style="font-size: 10px;">troubleshooting</a> <a href="/tags/%E7%BF%BB%E8%AF%91/" style="font-size: 16px;">ç¿»è¯‘</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">å½’æ¡£</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/11/">åä¸€æœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/09/">ä¹æœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/08/">å…«æœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/07/">ä¸ƒæœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/06/">å…­æœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/05/">äº”æœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/03/">ä¸‰æœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/01/">ä¸€æœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">åäºŒæœˆ 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">ä¹æœˆ 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/06/">å…­æœˆ 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">ä¸‰æœˆ 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">äºŒæœˆ 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">ä¸€æœˆ 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">åäºŒæœˆ 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">åä¸€æœˆ 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">å…«æœˆ 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">äº”æœˆ 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">å››æœˆ 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">äºŒæœˆ 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">åä¸€æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">åæœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">äº”æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">å››æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">ä¸‰æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">äºŒæœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">ä¸€æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">äº”æœˆ 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">åæœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">å…«æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">å…­æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">äº”æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">ä¸‰æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">äºŒæœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">ä¸€æœˆ 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">åäºŒæœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">åä¸€æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">åæœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">ä¹æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">å…«æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">ä¸ƒæœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">å…­æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">äº”æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">å››æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">ä¸‰æœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">äºŒæœˆ 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">åäºŒæœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">åä¸€æœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">åæœˆ 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">ä¹æœˆ 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/11/01/nextjs-16-cache-components-complete-guide/">Next.js 16 Cache Components å®Œå…¨æŒ‡å—</a>
          </li>
        
          <li>
            <a href="/2025/09/29/mysql-docker-mysqldump-backup-script/">åœ¨å®¹å™¨ä¸­è¿è¡Œçš„mysqlæ•°æ®åº“å®šæ—¶å¤‡ä»½è„šæœ¬</a>
          </li>
        
          <li>
            <a href="/2025/08/14/nodejs-mysql-timezone-problem/">timestampå­˜å–å·®å‡ å°æ—¶? mysql timestampçš„timezoneé—®é¢˜ä»¥åŠå¦‚ä½•åœ¨mysql2è®¾ç½®</a>
          </li>
        
          <li>
            <a href="/2025/08/02/drizzle-mysql-bit-type/">drizzleå¦‚ä½•å¤„ç†mysqlçš„bitç±»å‹</a>
          </li>
        
          <li>
            <a href="/2025/07/17/nextjs-client-navigation-get-previous-page/">Next.js å¦‚ä½•åœ¨å®¢æˆ·ç«¯å¯¼èˆªæ—¶è·å–ä¸Šä¸€é¡µ(referer)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 abaabaqua<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>





<script src="/js/script.js"></script>





  </div>
<!-- hexo injector body_end start --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.30.0/tocbot.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.30.0/tocbot.min.js"></script>
  
    <script>
    document.addEventListener('DOMContentLoaded', function () {
      if (window.location.pathname === '/') {
        return;
      }
      // æ£€æŸ¥æ˜¯å¦å­˜åœ¨ .article-entry å…ƒç´ 
      const articleEntry = document.querySelector('.article-entry');
      if (!articleEntry) return; // å¦‚æœä¸å­˜åœ¨ï¼Œç›´æ¥é€€å‡º

      // åœ¨ .article-title åé¢æ’å…¥ä¸€ä¸ª divï¼Œclass ä¸º toc
      const articleTitle = document.querySelector('header.article-header');
      if (!articleTitle) {
        return;
      }

      const tocDiv = document.createElement('div');
      tocDiv.className = 'toc';
      articleTitle.insertAdjacentElement('afterend', tocDiv);
      // åˆå§‹åŒ– tocbot
      tocbot.init({
        tocSelector: '.toc', // å°†ç›®å½•æ’å…¥åˆ°åˆšåˆšåˆ›å»ºçš„ .toc ä¸­
        contentSelector: '.article-entry',
        headingSelector: 'h2, h3, h4',
        collapseDepth: 3,
        scrollSmooth: true,
        scrollSmoothDuration: 420,
      });
    });
    </script>
  
    <script>
    document.addEventListener('DOMContentLoaded', function () {
      // åˆ›å»ºå›åˆ°é¡¶éƒ¨æŒ‰é’®
      const backToTopButton = document.createElement('div');
      backToTopButton.id = 'back-to-top';
      backToTopButton.innerHTML = 'â†‘ TOP';
      document.body.appendChild(backToTopButton);

      // ç›‘å¬æ»šåŠ¨äº‹ä»¶
      window.addEventListener('scroll', function () {
        if (window.scrollY > 300) { // å½“æ»šåŠ¨è¶…è¿‡300pxæ—¶æ˜¾ç¤ºæŒ‰é’®
          backToTopButton.classList.add('show');
        } else {
          backToTopButton.classList.remove('show');
        }
      });

      // ç‚¹å‡»æŒ‰é’®å›åˆ°é¡¶éƒ¨
      backToTopButton.addEventListener('click', function () {
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });
    });
    </script>
  <!-- hexo injector body_end end --></body>
</html>